!function($,window,document,undefined){$.site=$.fn.site=function(parameters){var module,returnedValue,time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1),settings=$.isPlainObject(parameters)?$.extend(!0,{},$.site.settings,parameters):$.extend({},$.site.settings),namespace=settings.namespace,error=settings.error,moduleNamespace="module-"+namespace,$document=$(document),$module=$document,element=this,instance=$module.data(moduleNamespace);return module={initialize:function(){module.instantiate()},instantiate:function(){module.verbose("Storing instance of site",module),instance=module,$module.data(moduleNamespace,module)},normalize:function(){module.fix.console(),module.fix.requestAnimationFrame()},fix:{console:function(){module.debug("Normalizing window.console"),console!==undefined&&console.log!==undefined||(module.verbose("Console not available, normalizing events"),module.disable.console()),"undefined"!=typeof console.group&&"undefined"!=typeof console.groupEnd&&"undefined"!=typeof console.groupCollapsed||(module.verbose("Console group not available, normalizing events"),window.console.group=function(){},window.console.groupEnd=function(){},window.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(module.verbose("Mark timeline not available, normalizing events"),window.console.markTimeline=function(){})},consoleClear:function(){module.debug("Disabling programmatic console clearing"),window.console.clear=function(){}},requestAnimationFrame:function(){module.debug("Normalizing requestAnimationFrame"),window.requestAnimationFrame===undefined&&(module.debug("RequestAnimationFrame not available, normailizing event"),window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)})}},moduleExists:function(name){return $.fn[name]!==undefined&&$.fn[name].settings!==undefined},enabled:{modules:function(modules){var enabledModules=[];return modules=modules||settings.modules,$.each(modules,function(index,name){module.moduleExists(name)&&enabledModules.push(name)}),enabledModules}},disabled:{modules:function(modules){var disabledModules=[];return modules=modules||settings.modules,$.each(modules,function(index,name){module.moduleExists(name)||disabledModules.push(name)}),disabledModules}},change:{setting:function(setting,value,modules,modifyExisting){modules="string"==typeof modules?"all"===modules?settings.modules:[modules]:modules||settings.modules,modifyExisting=modifyExisting===undefined||modifyExisting,$.each(modules,function(index,name){var $existingModules,namespace=!module.moduleExists(name)||($.fn[name].settings.namespace||!1);module.moduleExists(name)&&(module.verbose("Changing default setting",setting,value,name),$.fn[name].settings[setting]=value,modifyExisting&&namespace&&($existingModules=$(":data(module-"+namespace+")"),$existingModules.length>0&&(module.verbose("Modifying existing settings",$existingModules),$existingModules[name]("setting",setting,value))))})},settings:function(newSettings,modules,modifyExisting){modules="string"==typeof modules?[modules]:modules||settings.modules,modifyExisting=modifyExisting===undefined||modifyExisting,$.each(modules,function(index,name){var $existingModules;module.moduleExists(name)&&(module.verbose("Changing default setting",newSettings,name),$.extend(!0,$.fn[name].settings,newSettings),modifyExisting&&namespace&&($existingModules=$(":data(module-"+namespace+")"),$existingModules.length>0&&(module.verbose("Modifying existing settings",$existingModules),$existingModules[name]("setting",newSettings))))})}},enable:{console:function(){module.console(!0)},debug:function(modules,modifyExisting){modules=modules||settings.modules,module.debug("Enabling debug for modules",modules),module.change.setting("debug",!0,modules,modifyExisting)},verbose:function(modules,modifyExisting){modules=modules||settings.modules,module.debug("Enabling verbose debug for modules",modules),module.change.setting("verbose",!0,modules,modifyExisting)}},disable:{console:function(){module.console(!1)},debug:function(modules,modifyExisting){modules=modules||settings.modules,module.debug("Disabling debug for modules",modules),module.change.setting("debug",!1,modules,modifyExisting)},verbose:function(modules,modifyExisting){modules=modules||settings.modules,module.debug("Disabling verbose debug for modules",modules),module.change.setting("verbose",!1,modules,modifyExisting)}},console:function(enable){if(enable){if(instance.cache.console===undefined)return void module.error(error.console);module.debug("Restoring console function"),window.console=instance.cache.console}else module.debug("Disabling console function"),instance.cache.console=window.console,window.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){module.verbose("Destroying previous site for",$module),$module.removeData(moduleNamespace)},cache:{},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Element:element,Name:message[0],Arguments:[].slice.call(message,1)||"","Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&module.destroy(),module.initialize()),returnedValue!==undefined?returnedValue:this},$.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!0,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","video","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,i,match){return!!$.data(elem,match[3])}})}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.form=function(fields,parameters){var returnedValue,$allModules=$(this),settings=$.extend(!0,{},$.fn.form.settings,parameters),validation=$.extend({},$.fn.form.settings.defaults,fields),namespace=settings.namespace,metadata=settings.metadata,selector=settings.selector,className=settings.className,eventNamespace=(settings.error,"."+namespace),moduleNamespace="module-"+namespace,moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var module,$module=$(this),$field=$(this).find(selector.field),$group=$(this).find(selector.group),$message=$(this).find(selector.message),$submit=($(this).find(selector.prompt),$(this).find(selector.submit)),$clear=$(this).find(selector.clear),$reset=$(this).find(selector.reset),formErrors=[],keyHeldDown=!1,element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.verbose("Initializing form validation",$module,validation,settings),module.bindEvents(),module.set.defaults(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous module",instance),module.removeEvents(),$module.removeData(moduleNamespace)},refresh:function(){module.verbose("Refreshing selector cache"),$field=$module.find(selector.field)},submit:function(){module.verbose("Submitting form",$module),$module.submit()},attachEvents:function(selector,action){action=action||"submit",$(selector).on("click",function(event){module[action](),event.preventDefault()})},bindEvents:function(){settings.keyboardShortcuts&&$field.on("keydown"+eventNamespace,module.event.field.keydown),$module.on("submit"+eventNamespace,module.validate.form),$field.on("blur"+eventNamespace,module.event.field.blur),module.attachEvents($submit,"submit"),module.attachEvents($reset,"reset"),module.attachEvents($clear,"clear"),$field.each(function(){var type=$(this).prop("type"),inputEvent=module.get.changeEvent(type);$(this).on(inputEvent+eventNamespace,module.event.field.change)})},clear:function(){$field.each(function(){var $field=$(this),$element=$field.parent(),$fieldGroup=$field.closest($group),$prompt=$fieldGroup.find(selector.prompt),defaultValue=$field.data(metadata.defaultValue)||"",isCheckbox=$element.is(selector.uiCheckbox),isDropdown=$element.is(selector.uiDropdown),isErrored=$fieldGroup.hasClass(className.error);isErrored&&(module.verbose("Resetting error on field",$fieldGroup),$fieldGroup.removeClass(className.error),$prompt.remove()),isDropdown?(module.verbose("Resetting dropdown value",$element,defaultValue),$element.dropdown("clear")):isCheckbox?$element.checkbox("uncheck"):(module.verbose("Resetting field value",$field,defaultValue),$field.val(""))})},reset:function(){$field.each(function(){var $field=$(this),$element=$field.parent(),$fieldGroup=$field.closest($group),$prompt=$fieldGroup.find(selector.prompt),defaultValue=$field.data(metadata.defaultValue)||"",isCheckbox=$element.is(selector.uiCheckbox),isDropdown=$element.is(selector.uiDropdown),isErrored=$fieldGroup.hasClass(className.error);isErrored&&(module.verbose("Resetting error on field",$fieldGroup),$fieldGroup.removeClass(className.error),$prompt.remove()),isDropdown?(module.verbose("Resetting dropdown value",$element,defaultValue),$element.dropdown("restore defaults")):isCheckbox?(module.verbose("Resetting checkbox value",$element,defaultValue),defaultValue===!0?$element.checkbox("check"):$element.checkbox("uncheck")):(module.verbose("Resetting field value",$field,defaultValue),$field.val(defaultValue))})},removeEvents:function(){$module.off(eventNamespace),$field.off(eventNamespace),$submit.off(eventNamespace),$field.off(eventNamespace)},event:{field:{keydown:function(event){var $field=$(this),key=event.which,keyCode={enter:13,escape:27};key==keyCode.escape&&(module.verbose("Escape key pressed blurring field"),$field.blur()),!event.ctrlKey&&key==keyCode.enter&&$field.is(selector.input)&&$field.not(selector.checkbox).length>0&&($submit.addClass(className.pressed),keyHeldDown||($field.one("keyup"+eventNamespace,module.event.field.keyup),module.submit(),module.debug("Enter pressed on input submitting form")),keyHeldDown=!0)},keyup:function(){keyHeldDown=!1,$submit.removeClass(className.pressed)},blur:function(){var $field=$(this),$fieldGroup=$field.closest($group);$fieldGroup.hasClass(className.error)?(module.debug("Revalidating field",$field,module.get.validation($field)),module.validate.field(module.get.validation($field))):"blur"!=settings.on&&"change"!=settings.on||module.validate.field(module.get.validation($field))},change:function(){var $field=$(this),$fieldGroup=$field.closest($group);("change"==settings.on||$fieldGroup.hasClass(className.error)&&settings.revalidate)&&(clearTimeout(module.timer),module.timer=setTimeout(function(){module.debug("Revalidating field",$field,module.get.validation($field)),module.validate.field(module.get.validation($field))},settings.delay))}}},get:{changeEvent:function(type){return"checkbox"==type||"radio"==type||"hidden"==type?"change":module.get.inputEvent()},inputEvent:function(){return document.createElement("input").oninput!==undefined?"input":document.createElement("input").onpropertychange!==undefined?"propertychange":"keyup"},field:function(identifier){return module.verbose("Finding field with identifier",identifier),$field.filter("#"+identifier).length>0?$field.filter("#"+identifier):$field.filter('[name="'+identifier+'"]').length>0?$field.filter('[name="'+identifier+'"]'):$field.filter('[name="'+identifier+'[]"]').length>0?$field.filter('[name="'+identifier+'[]"]'):$field.filter("[data-"+metadata.validate+'="'+identifier+'"]').length>0?$field.filter("[data-"+metadata.validate+'="'+identifier+'"]'):$("<input/>")},fields:function(fields){var $fields=$();return $.each(fields,function(index,name){$fields=$fields.add(module.get.field(name))}),$fields},validation:function($field){var rules;return $.each(validation,function(fieldName,field){module.get.field(field.identifier).get(0)==$field.get(0)&&(rules=field)}),rules||!1},value:function(field){var results,fields=[];return fields.push(field),results=module.get.values.call(element,fields),results[field]},values:function(fields){var $fields=$.isArray(fields)?module.get.fields(fields):$field,values={};return $fields.each(function(index,field){var $field=$(field),name=($field.prop("type"),$field.prop("name")),value=$field.val(),isCheckbox=$field.is(selector.checkbox),isRadio=$field.is(selector.radio),isMultiple=name.indexOf("[]")!==-1,isChecked=!!isCheckbox&&$field.is(":checked");if(name)if(isMultiple)if(name=name.replace("[]",""),values[name]||(values[name]=[]),isCheckbox){if(!isChecked)return module.debug("Omitted unchecked checkbox",$field),!0;values[name].push(value)}else values[name].push(value);else if(isRadio)isChecked&&(values[name]=value);else if(isCheckbox){if(!isChecked)return module.debug("Omitted unchecked checkbox",$field),!0;values[name]=!0}else values[name]=value}),values}},has:{field:function(identifier){return module.verbose("Checking for existence of a field with identifier",identifier),$field.filter("#"+identifier).length>0||($field.filter('[name="'+identifier+'"]').length>0||$field.filter("[data-"+metadata.validate+'="'+identifier+'"]').length>0)}},add:{prompt:function(identifier,errors){var $field=module.get.field(identifier),$fieldGroup=$field.closest($group),$prompt=$fieldGroup.children(selector.prompt),promptExists=0!==$prompt.length;errors="string"==typeof errors?[errors]:errors,module.verbose("Adding field error state",identifier),$fieldGroup.addClass(className.error),settings.inline&&(promptExists||($prompt=settings.templates.prompt(errors),$prompt.appendTo($fieldGroup)),$prompt.html(errors[0]),promptExists?module.verbose("Inline errors are disabled, no inline error added",identifier):settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?(module.verbose("Displaying error with css transition",settings.transition),$prompt.transition(settings.transition+" in",settings.duration)):(module.verbose("Displaying error with fallback javascript animation"),$prompt.fadeIn(settings.duration)))},errors:function(errors){module.debug("Adding form error messages",errors),$message.html(settings.templates.error(errors))}},remove:{prompt:function(field){var $field=module.get.field(field.identifier),$fieldGroup=$field.closest($group),$prompt=$fieldGroup.children(selector.prompt);$fieldGroup.removeClass(className.error),settings.inline&&$prompt.is(":visible")&&(module.verbose("Removing prompt for field",field),settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?$prompt.transition(settings.transition+" out",settings.duration,function(){$prompt.remove()}):$prompt.fadeOut(settings.duration,function(){$prompt.remove()}))}},set:{success:function(){$module.removeClass(className.error).addClass(className.success)},defaults:function(){$field.each(function(){var $field=$(this),isCheckbox=$field.filter(selector.checkbox).length>0,value=isCheckbox?$field.is(":checked"):$field.val();$field.data(metadata.defaultValue,value)})},error:function(){$module.removeClass(className.success).addClass(className.error)},value:function(field,value){var fields={};return fields[field]=value,module.set.values.call(element,fields)},values:function(fields){$.isEmptyObject(fields)||($.each(fields,function(key,value){var $multipleField,$field=module.get.field(key),$element=$field.parent(),isMultiple=$.isArray(value),isCheckbox=$element.is(selector.uiCheckbox),isDropdown=$element.is(selector.uiDropdown),isRadio=$field.is(selector.radio)&&isCheckbox,fieldExists=$field.length>0;fieldExists&&(isMultiple&&isCheckbox?(module.verbose("Selecting multiple",value,$field),$element.checkbox("uncheck"),$.each(value,function(index,value){$multipleField=$field.filter('[value="'+value+'"]'),$element=$multipleField.parent(),$multipleField.length>0&&$element.checkbox("check")})):isRadio?(module.verbose("Selecting radio value",value,$field),$field.filter('[value="'+value+'"]').parent(selector.uiCheckbox).checkbox("check")):isCheckbox?(module.verbose("Setting checkbox value",value,$element),value===!0?$element.checkbox("check"):$element.checkbox("uncheck")):isDropdown?(module.verbose("Setting dropdown value",value,$element),$element.dropdown("set selected",value)):(module.verbose("Setting field value",value,$field),$field.val(value)))}),module.validate.form())}},validate:{form:function(event){var allValid=!0;return!keyHeldDown&&(formErrors=[],$.each(validation,function(fieldName,field){module.validate.field(field)||(allValid=!1)}),allValid?(module.debug("Form has no validation errors, submitting"),module.set.success(),settings.onSuccess.call(element,event)):(module.debug("Form has errors"),module.set.error(),settings.inline||module.add.errors(formErrors),$module.data("moduleApi")!==undefined&&event.stopImmediatePropagation(),settings.onFailure.call(element,formErrors)))},field:function(field){var $field=module.get.field(field.identifier),fieldValid=!0,fieldErrors=[];return $field.prop("disabled")?(module.debug("Field is disabled. Skipping",field.identifier),fieldValid=!0):field.optional&&""===$.trim($field.val())?(module.debug("Field is optional and empty. Skipping",field.identifier),fieldValid=!0):field.rules!==undefined&&$.each(field.rules,function(index,rule){module.has.field(field.identifier)&&!module.validate.rule(field,rule)&&(module.debug("Field is invalid",field.identifier,rule.type),fieldErrors.push(rule.prompt),fieldValid=!1)}),fieldValid?(module.remove.prompt(field,fieldErrors),settings.onValid.call($field),!0):(formErrors=formErrors.concat(fieldErrors),module.add.prompt(field.identifier,fieldErrors),settings.onInvalid.call($field,fieldErrors),!1)},rule:function(field,validation){var ancillary,functionType,$field=module.get.field(field.identifier),type=validation.type,value=$.trim($field.val()+""),bracketRegExp=/\[(.*)\]/i,bracket=bracketRegExp.exec(type),isValid=!0;return bracket!==undefined&&null!==bracket?(ancillary=""+bracket[1],functionType=type.replace(bracket[0],""),isValid=settings.rules[functionType].call(element,value,ancillary)):isValid=settings.rules[type].call($field,value),isValid}},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined&&(found=object[value],!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!0,performance:!0,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:".reset",submit:".submit",uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{method:"The method you called is not defined."},templates:{error:function(errors){var html='<ul class="list">';return $.each(errors,function(index,value){html+="<li>"+value+"</li>"}),html+="</ul>",$(html)},prompt:function(errors){return $("<div/>").addClass("ui red pointing prompt label").html(errors[0])}},rules:{checked:function(){return $(this).filter(":checked").length>0},contains:function(value,text){return text=text.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),value.search(new RegExp(text,"i"))!==-1},containsExactly:function(value,text){return text=text.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),value.search(new RegExp(text))!==-1},email:function(value){var emailRegExp=new RegExp("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?","i");return emailRegExp.test(value)},empty:function(value){return!(value===undefined||""===value)},integer:function(value,range){var min,max,parts,intRegExp=/^\-?\d+$/;return range===undefined||""===range||".."===range||(range.indexOf("..")==-1?intRegExp.test(range)&&(min=max=range-0):(parts=range.split("..",2),intRegExp.test(parts[0])&&(min=parts[0]-0),intRegExp.test(parts[1])&&(max=parts[1]-0))),intRegExp.test(value)&&(min===undefined||value>=min)&&(max===undefined||value<=max)},is:function(value,text){return text="string"==typeof text?text.toLowerCase():text,value="string"==typeof value?value.toLowerCase():value,value==text},isExactly:function(value,text){return value==text},length:function(value,requiredLength){return value!==undefined&&value.length>=requiredLength},match:function(value,fieldIdentifier){var matchingValue,$form=$(this);return $form.find("#"+fieldIdentifier).length>0?matchingValue=$form.find("#"+fieldIdentifier).val():$form.find('[name="'+fieldIdentifier+'"]').length>0?matchingValue=$form.find('[name="'+fieldIdentifier+'"]').val():$form.find('[data-validate="'+fieldIdentifier+'"]').length>0&&(matchingValue=$form.find('[data-validate="'+fieldIdentifier+'"]').val()),matchingValue!==undefined&&value.toString()==matchingValue.toString()},maxLength:function(value,maxLength){return value!==undefined&&value.length<=maxLength},not:function(value,notValue){return value="string"==typeof value?value.toLowerCase():value,notValue="string"==typeof notValue?notValue.toLowerCase():notValue,value!=notValue},notExactly:function(value,notValue){return value!=notValue},url:function(value){var urlRegExp=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return urlRegExp.test(value)}}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.accordion=function(parameters){var returnedValue,$allModules=$(this),time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)};return $allModules.each(function(){var observer,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.accordion.settings,parameters):$.extend({},$.fn.accordion.settings),className=settings.className,namespace=settings.namespace,selector=settings.selector,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,moduleSelector=$allModules.selector||"",$module=$(this),$title=$module.find(selector.title),$content=$module.find(selector.content),element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing",$module),module.bind.events(),module.observeChanges(),module.instantiate()},instantiate:function(){instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.debug("Destroying previous instance",$module),$module.off(eventNamespace).removeData(moduleNamespace)},refresh:function(){$title=$module.find(selector.title),$content=$module.find(selector.content)},observeChanges:function(){"MutationObserver"in window&&(observer=new MutationObserver(function(mutations){module.debug("DOM tree modified, updating selector cache"),module.refresh()}),observer.observe(element,{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",observer))},bind:{events:function(){module.debug("Binding delegated events"),$module.on("click"+eventNamespace,selector.trigger,module.event.click)}},event:{click:function(){module.toggle.call(this)}},toggle:function(query){var $activeTitle=query!==undefined?"number"==typeof query?$title.eq(query):$(query).closest(selector.title):$(this).closest(selector.title),$activeContent=$activeTitle.next($content),isAnimating=$activeContent.hasClass(className.animating),isActive=$activeContent.hasClass(className.active),isOpen=isActive&&!isAnimating,isOpening=!isActive&&isAnimating;module.debug("Toggling visibility of content",$activeTitle),isOpen||isOpening?settings.collapsible?module.close.call($activeTitle):module.debug("Cannot close accordion content collapsing is disabled"):module.open.call($activeTitle)},open:function(query){var $activeTitle=query!==undefined?"number"==typeof query?$title.eq(query):$(query).closest(selector.title):$(this).closest(selector.title),$activeContent=$activeTitle.next($content),isAnimating=$activeContent.hasClass(className.animating),isActive=$activeContent.hasClass(className.active),isUnopen=!isActive&&!isAnimating;isUnopen&&(module.debug("Opening accordion content",$activeTitle),settings.exclusive&&module.closeOthers.call($activeTitle),$activeTitle.addClass(className.active),$activeContent.addClass(className.animating),settings.animateChildren&&($.fn.transition!==undefined&&$module.transition("is supported")?$activeContent.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:settings.debug,verbose:settings.verbose,duration:settings.duration}):$activeContent.children().stop(!0).animate({opacity:1},settings.duration,module.resetOpacity)),$activeContent.stop(!0).slideDown(settings.duration,settings.easing,function(){$activeContent.removeClass(className.animating).addClass(className.active),module.reset.display.call(this),settings.onOpen.call(this),settings.onChange.call(this)}))},close:function(query){var $activeTitle=query!==undefined?"number"==typeof query?$title.eq(query):$(query).closest(selector.title):$(this).closest(selector.title),$activeContent=$activeTitle.next($content),isAnimating=$activeContent.hasClass(className.animating),isActive=$activeContent.hasClass(className.active),isOpening=!isActive&&isAnimating,isClosing=isActive&&isAnimating;!isActive&&!isOpening||isClosing||(module.debug("Closing accordion content",$activeContent),
$activeTitle.removeClass(className.active),$activeContent.addClass(className.animating),settings.animateChildren&&($.fn.transition!==undefined&&$module.transition("is supported")?$activeContent.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:settings.debug,verbose:settings.verbose,duration:settings.duration}):$activeContent.children().stop(!0).animate({opacity:0},settings.duration,module.resetOpacity)),$activeContent.stop(!0).slideUp(settings.duration,settings.easing,function(){$activeContent.removeClass(className.animating).removeClass(className.active),module.reset.display.call(this),settings.onClose.call(this),settings.onChange.call(this)}))},closeOthers:function(index){var $openTitles,$nestedTitles,$openContents,$activeTitle=index!==undefined?$title.eq(index):$(this).closest(selector.title),$parentTitles=$activeTitle.parents(selector.content).prev(selector.title),$activeAccordion=$activeTitle.closest(selector.accordion),activeSelector=selector.title+"."+className.active+":visible",activeContent=selector.content+"."+className.active+":visible";settings.closeNested?($openTitles=$activeAccordion.find(activeSelector).not($parentTitles),$openContents=$openTitles.next($content)):($openTitles=$activeAccordion.find(activeSelector).not($parentTitles),$nestedTitles=$activeAccordion.find(activeContent).find(activeSelector).not($parentTitles),$openTitles=$openTitles.not($nestedTitles),$openContents=$openTitles.next($content)),$openTitles.length>0&&(module.debug("Exclusive enabled, closing other content",$openTitles),$openTitles.removeClass(className.active),settings.animateChildren&&($.fn.transition!==undefined&&$module.transition("is supported")?$openContents.children().transition({animation:"fade out",useFailSafe:!0,debug:settings.debug,verbose:settings.verbose,duration:settings.duration}):$openContents.children().stop().animate({opacity:0},settings.duration,module.resetOpacity)),$openContents.stop().slideUp(settings.duration,settings.easing,function(){$(this).removeClass(className.active),module.reset.display.call(this)}))},reset:{display:function(){module.verbose("Removing inline display from element",this),$(this).css("display",""),""===$(this).attr("style")&&$(this).attr("style","").removeAttr("style")},opacity:function(){module.verbose("Removing inline opacity from element",this),$(this).css("opacity",""),""===$(this).attr("style")&&$(this).attr("style","").removeAttr("style")}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){return module.debug("Changing internal",name,value),value===undefined?module[name]:void($.isPlainObject(name)?$.extend(!0,module,name):module[name]=value)},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!1,verbose:!0,performance:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpen:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},$.extend($.easing,{easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b}})}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.checkbox=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var observer,module,settings=$.extend(!0,{},$.fn.checkbox.settings,parameters),className=settings.className,namespace=settings.namespace,selector=settings.selector,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$label=$(this).find(selector.label).first(),$input=$(this).find(selector.input),instance=$module.data(moduleNamespace),element=this;module={initialize:function(){module.verbose("Initializing checkbox",settings),module.create.label(),module.add.events(),module.is.checked()?(module.set.checked(),settings.fireOnInit&&settings.onChecked.call($input.get())):(module.remove.checked(),settings.fireOnInit&&settings.onUnchecked.call($input.get())),module.observeChanges(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying module"),module.remove.events(),$module.removeData(moduleNamespace)},refresh:function(){$module=$(element),$label=$(element).find(selector.label).first(),$input=$(element).find(selector.input)},observeChanges:function(){"MutationObserver"in window&&(observer=new MutationObserver(function(mutations){module.debug("DOM tree modified, updating selector cache"),module.refresh()}),observer.observe(element,{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",observer))},attachEvents:function(selector,event){var $element=$(selector);event=$.isFunction(module[event])?module[event]:module.toggle,$element.length>0?(module.debug("Attaching checkbox events to element",selector,event),$element.on("click"+eventNamespace,event)):module.error(error.notFound)},event:{keydown:function(event){var key=event.which,keyCode={enter:13,space:32,escape:27};key==keyCode.escape&&(module.verbose("Escape key pressed blurring field"),$module.blur()),event.ctrlKey||key!=keyCode.enter&&key!=keyCode.space||(module.verbose("Enter key pressed, toggling checkbox"),module.toggle.call(this),event.preventDefault())}},is:{radio:function(){return $module.hasClass(className.radio)},checked:function(){return $input.prop("checked")!==undefined&&$input.prop("checked")},unchecked:function(){return!module.is.checked()}},can:{change:function(){return!($module.hasClass(className.disabled)||$module.hasClass(className.readOnly)||$input.prop("disabled"))},uncheck:function(){return"boolean"==typeof settings.uncheckable?settings.uncheckable:!module.is.radio()}},set:{checked:function(){$module.addClass(className.checked)},tab:function(){$input.attr("tabindex")===undefined&&$input.attr("tabindex",0)}},create:{label:function(){$input.prevAll(selector.label).length>0?($input.prev(selector.label).detach().insertAfter($input),module.debug("Moving existing label",$label)):module.has.label()||($label=$("<label>").insertAfter($input),module.debug("Creating label",$label))}},has:{label:function(){return $label.length>0}},add:{events:function(){module.verbose("Attaching checkbox events"),$module.on("click"+eventNamespace,module.toggle).on("keydown"+eventNamespace,selector.input,module.event.keydown)}},remove:{checked:function(){$module.removeClass(className.checked)},events:function(){module.debug("Removing events"),$module.off(eventNamespace).removeData(moduleNamespace),$input.off(eventNamespace,module.event.keydown),$label.off(eventNamespace)}},enable:function(){module.debug("Enabling checkbox functionality"),$module.removeClass(className.disabled),$input.prop("disabled",!1),settings.onEnabled.call($input.get())},disable:function(){module.debug("Disabling checkbox functionality"),$module.addClass(className.disabled),$input.prop("disabled","disabled"),settings.onDisabled.call($input.get())},check:function(){module.debug("Enabling checkbox",$input),$input.prop("checked",!0).trigger("change"),module.set.checked(),$input.trigger("blur"),settings.onChange.call($input.get()),settings.onChecked.call($input.get())},uncheck:function(){module.debug("Disabling checkbox"),$input.prop("checked",!1).trigger("change"),module.remove.checked(),$input.trigger("blur"),settings.onChange.call($input.get()),settings.onUnchecked.call($input.get())},toggle:function(event){return module.can.change()?(module.verbose("Determining new checkbox state"),void(module.is.unchecked()?module.check():module.is.checked()&&module.can.uncheck()&&module.uncheck())):(console.log(module.can.change()),void module.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!0,onChange:function(){},onChecked:function(){},onUnchecked:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",disabled:"disabled",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{input:'input[type="checkbox"], input[type="radio"]',label:"label"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.dimmer=function(parameters){var returnedValue,$allModules=$(this),time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var $dimmer,$dimmable,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.dimmer.settings,parameters):$.extend({},$.fn.dimmer.settings),selector=settings.selector,namespace=settings.namespace,className=settings.className,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,moduleSelector=$allModules.selector||"",clickEvent="ontouchstart"in document.documentElement?"touchstart":"click",$module=$(this),element=this,instance=$module.data(moduleNamespace);module={preinitialize:function(){module.is.dimmer()?($dimmable=$module.parent(),$dimmer=$module):($dimmable=$module,$dimmer=module.has.dimmer()?settings.dimmerName?$dimmable.children(selector.dimmer).filter("."+settings.dimmerName):$dimmable.children(selector.dimmer):module.create())},initialize:function(){module.debug("Initializing dimmer",settings),"hover"==settings.on?$dimmable.on("mouseenter"+eventNamespace,module.show).on("mouseleave"+eventNamespace,module.hide):"click"==settings.on&&$dimmable.on(clickEvent+eventNamespace,module.toggle),module.is.page()&&(module.debug("Setting as a page dimmer",$dimmable),module.set.pageDimmer()),module.is.closable()&&(module.verbose("Adding dimmer close event",$dimmer),$dimmer.on(clickEvent+eventNamespace,module.event.click)),module.set.dimmable(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,instance)},destroy:function(){module.verbose("Destroying previous module",$dimmer),$module.removeData(moduleNamespace),$dimmable.off(eventNamespace),$dimmer.off(eventNamespace)},event:{click:function(event){module.verbose("Determining if event occured on dimmer",event),(0===$dimmer.find(event.target).length||$(event.target).is(selector.content))&&(module.hide(),event.stopImmediatePropagation())}},addContent:function(element){var $content=$(element);module.debug("Add content to dimmer",$content),$content.parent()[0]!==$dimmer[0]&&$content.detach().appendTo($dimmer)},create:function(){var $element=$(settings.template.dimmer());return settings.variation&&(module.debug("Creating dimmer with variation",settings.variation),$element.addClass(settings.variation)),settings.dimmerName&&(module.debug("Creating named dimmer",settings.dimmerName),$element.addClass(settings.dimmerName)),$element.appendTo($dimmable),$element},show:function(callback){callback=$.isFunction(callback)?callback:function(){},module.debug("Showing dimmer",$dimmer,settings),module.is.dimmed()&&!module.is.animating()||!module.is.enabled()?module.debug("Dimmer is already shown or disabled"):(module.animate.show(callback),settings.onShow.call(element),settings.onChange.call(element))},hide:function(callback){callback=$.isFunction(callback)?callback:function(){},module.is.dimmed()||module.is.animating()?(module.debug("Hiding dimmer",$dimmer),module.animate.hide(callback),settings.onHide.call(element),settings.onChange.call(element)):module.debug("Dimmer is not visible")},toggle:function(){module.verbose("Toggling dimmer visibility",$dimmer),module.is.dimmed()?module.hide():module.show()},animate:{show:function(callback){callback=$.isFunction(callback)?callback:function(){},settings.useCSS&&$.fn.transition!==undefined&&$dimmer.transition("is supported")?("auto"!==settings.opacity&&module.set.opacity(),$dimmer.transition({animation:settings.transition+" in",queue:!1,duration:module.get.duration(),useFailSafe:!0,onStart:function(){module.set.dimmed()},onComplete:function(){module.set.active(),callback()}})):(module.verbose("Showing dimmer animation with javascript"),module.set.dimmed(),"auto"==settings.opacity&&(settings.opacity=.8),$dimmer.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(module.get.duration(),settings.opacity,function(){$dimmer.removeAttr("style"),module.set.active(),callback()}))},hide:function(callback){callback=$.isFunction(callback)?callback:function(){},settings.useCSS&&$.fn.transition!==undefined&&$dimmer.transition("is supported")?(module.verbose("Hiding dimmer with css"),$dimmer.transition({animation:settings.transition+" out",queue:!1,duration:module.get.duration(),useFailSafe:!0,onStart:function(){module.remove.dimmed()},onComplete:function(){module.remove.active(),callback()}})):(module.verbose("Hiding dimmer with javascript"),module.remove.dimmed(),$dimmer.stop().fadeOut(module.get.duration(),function(){module.remove.active(),$dimmer.removeAttr("style"),callback()}))}},get:{dimmer:function(){return $dimmer},duration:function(){return"object"==typeof settings.duration?module.is.active()?settings.duration.hide:settings.duration.show:settings.duration}},has:{dimmer:function(){return settings.dimmerName?$module.children(selector.dimmer).filter("."+settings.dimmerName).length>0:$module.children(selector.dimmer).length>0}},is:{active:function(){return $dimmer.hasClass(className.active)},animating:function(){return $dimmer.is(":animated")||$dimmer.hasClass(className.animating)},closable:function(){return"auto"==settings.closable?"hover"!=settings.on:settings.closable},dimmer:function(){return $module.is(selector.dimmer)},dimmable:function(){return $module.is(selector.dimmable)},dimmed:function(){return $dimmable.hasClass(className.dimmed)},disabled:function(){return $dimmable.hasClass(className.disabled)},enabled:function(){return!module.is.disabled()},page:function(){return $dimmable.is("body")},pageDimmer:function(){return $dimmer.hasClass(className.pageDimmer)}},can:{show:function(){return!$dimmer.hasClass(className.disabled)}},set:{opacity:function(opacity){var opacity=settings.opacity||opacity,color=$dimmer.css("background-color"),colorArray=color.split(","),isRGBA=colorArray&&4==colorArray.length;isRGBA?(colorArray[3]=opacity+")",color=colorArray.join(",")):color="rgba(0, 0, 0, "+opacity+")",module.debug("Setting opacity to",opacity),$dimmer.css("background-color",color)},active:function(){$dimmer.addClass(className.active)},dimmable:function(){$dimmable.addClass(className.dimmable)},dimmed:function(){$dimmable.addClass(className.dimmed)},pageDimmer:function(){$dimmer.addClass(className.pageDimmer)},disabled:function(){$dimmer.addClass(className.disabled)}},remove:{active:function(){$dimmer.removeClass(className.active)},dimmed:function(){$dimmable.removeClass(className.dimmed)},disabled:function(){$dimmer.removeClass(className.disabled)}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},module.preinitialize(),methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!0,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},selector:{dimmable:".dimmable",dimmer:".ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return $("<div />").attr("class","ui dimmer")}},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.dropdown=function(parameters){var returnedValue,$allModules=$(this),$document=$(document),moduleSelector=$allModules.selector||"",hasTouch="ontouchstart"in document.documentElement,time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var elementNamespace,id,observer,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.dropdown.settings,parameters):$.extend({},$.fn.dropdown.settings),className=settings.className,metadata=settings.metadata,namespace=settings.namespace,selector=settings.selector,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$text=$module.find(selector.text),$search=$module.find(selector.search),$input=$module.find(selector.input),$combo=$module.prev().find(selector.text).length>0?$module.prev().find(selector.text):$module.prev(),$menu=$module.children(selector.menu),$item=$menu.find(selector.item),activated=!1,itemActivated=!1,element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing dropdown",settings),module.is.alreadySetup()?module.setup.reference():(module.setup.layout(),module.save.defaults(),module.set.selected(),module.create.id(),hasTouch&&module.bind.touchEvents(),module.bind.mouseEvents(),module.bind.keyboardEvents(),module.observeChanges(),module.instantiate())},instantiate:function(){module.verbose("Storing instance of dropdown",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous dropdown for",$module),module.remove.tabbable(),$module.off(eventNamespace).removeData(moduleNamespace),$menu.off(eventNamespace),$document.off(elementNamespace)},observeChanges:function(){"MutationObserver"in window&&(observer=new MutationObserver(function(mutations){module.is.selectMutation(mutations)?(module.debug("<select> modified, recreating menu"),module.setup.select()):(module.debug("DOM tree modified, updating selector cache"),module.refresh())}),observer.observe(element,{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",observer))},create:{id:function(){id=(Math.random().toString(16)+"000000000").substr(2,8),elementNamespace="."+id,module.verbose("Creating unique id for element",id)}},search:function(){var query;query=$search.val(),module.verbose("Searching for query",query),module.filter(query),module.is.searchSelection()&&module.can.show()&&module.show()},setup:{layout:function(){$module.is("select")&&module.setup.select(),module.is.search()&&!module.is.searchable()&&($search=$("<input />").addClass(className.search).insertBefore($text)),settings.allowTab&&module.set.tabbable()},select:function(){var selectValues=module.get.selectValues();module.debug("Dropdown initialized on a select",selectValues),$module.is("select")&&($input=$module),$input.parent(selector.dropdown).length>0?(module.debug("UI dropdown already exists. Creating dropdown menu only"),$module=$input.closest(selector.dropdown),$menu=$module.children(selector.menu),0===$menu.length&&($menu=$("<div />").addClass(className.menu).appendTo($module)),$menu.html(settings.templates.menu(selectValues))):(module.debug("Creating entire dropdown from select"),$module=$("<div />").attr("class",$input.attr("class")).addClass(className.selection).addClass(className.dropdown).html(settings.templates.dropdown(selectValues)).insertBefore($input),$input.removeAttr("class").prependTo($module)),module.refresh()},reference:function(){var $firstModules,$lastModules,index=$allModules.index($module);module.debug("Dropdown behavior was called on select, replacing with closest dropdown"),$module=$module.parent(selector.dropdown),module.refresh(),$firstModules=$allModules.slice(0,index),$lastModules=$allModules.slice(index+1),$allModules=$firstModules.add($module).add($lastModules),methodInvoked&&(instance=module,module.invoke(query))}},refresh:function(){module.verbose("Refreshing selector cache"),$text=$module.find(selector.text),$search=$module.find(selector.search),$input=$module.find(selector.input),$combo=$module.prev().find(selector.text).length>0?$module.prev().find(selector.text):$module.prev(),$menu=$module.children(selector.menu),$item=$menu.find(selector.item)},toggle:function(){module.verbose("Toggling menu visibility"),module.is.active()?module.hide():module.show()},show:function(callback){callback=$.isFunction(callback)?callback:function(){},module.is.searchSelection()&&module.is.allFiltered()||module.can.show()&&!module.is.active()&&(module.debug("Showing dropdown"),module.animate.show(function(){module.can.click()&&module.bind.intent(),module.set.visible(),callback.call(element)}),settings.onShow.call(element))},hide:function(callback){callback=$.isFunction(callback)?callback:function(){},module.is.active()&&(module.debug("Hiding dropdown"),module.animate.hide(function(){module.remove.visible(),callback.call(element)}),settings.onHide.call(element))},hideOthers:function(){module.verbose("Finding other dropdowns to hide"),$allModules.not($module).has(selector.menu+":visible:not(."+className.animating+")").dropdown("hide")},hideSubMenus:function(){var $subMenus=$menu.find(selector.menu);$subMenus.transition("hide")},bind:{keyboardEvents:function(){module.debug("Binding keyboard events"),$module.on("keydown"+eventNamespace,module.event.keydown),module.is.searchable()&&$module.on(module.get.inputEvent(),selector.search,module.event.input)},touchEvents:function(){module.debug("Touch device detected binding additional touch events"),module.is.searchSelection()||$module.on("touchstart"+eventNamespace,module.event.test.toggle),$menu.on("touchstart"+eventNamespace,selector.item,module.event.item.mouseenter)},mouseEvents:function(){module.verbose("Mouse detected binding mouse events"),module.is.searchSelection()?$module.on("mousedown"+eventNamespace,selector.menu,module.event.menu.activate).on("mouseup"+eventNamespace,selector.menu,module.event.menu.deactivate).on("click"+eventNamespace,selector.search,module.show).on("focus"+eventNamespace,selector.search,module.event.searchFocus).on("blur"+eventNamespace,selector.search,module.event.searchBlur).on("click"+eventNamespace,selector.text,module.event.searchTextFocus):("click"==settings.on?$module.on("click"+eventNamespace,module.event.test.toggle):"hover"==settings.on?$module.on("mouseenter"+eventNamespace,module.delay.show).on("mouseleave"+eventNamespace,module.delay.hide):$module.on(settings.on+eventNamespace,module.toggle),$module.on("mousedown"+eventNamespace,module.event.mousedown).on("mouseup"+eventNamespace,module.event.mouseup).on("focus"+eventNamespace,module.event.focus).on("blur"+eventNamespace,module.event.blur)),
$menu.on("mouseenter"+eventNamespace,selector.item,module.event.item.mouseenter).on("mouseleave"+eventNamespace,selector.item,module.event.item.mouseleave).on("click"+eventNamespace,selector.item,module.event.item.click)},intent:function(){module.verbose("Binding hide intent event to document"),hasTouch&&$document.on("touchstart"+elementNamespace,module.event.test.touch).on("touchmove"+elementNamespace,module.event.test.touch),$document.on("click"+elementNamespace,module.event.test.hide)}},unbind:{intent:function(){module.verbose("Removing hide intent event from document"),hasTouch&&$document.off("touchstart"+elementNamespace).off("touchmove"+elementNamespace),$document.off("click"+elementNamespace)}},filter:function(searchTerm){var $results=$(),escapedTerm=module.escape.regExp(searchTerm),exactRegExp=new RegExp("^"+escapedTerm,"igm"),fullTextRegExp=new RegExp(escapedTerm,"ig");module.verbose("Searching for matching values"),$item.each(function(){var $choice=$(this),text=String(module.get.choiceText($choice,!1)),value=String(module.get.choiceValue($choice,text));text.match(exactRegExp)||value.match(exactRegExp)?$results=$results.add($choice):settings.fullTextSearch&&(text.match(fullTextRegExp)||value.match(fullTextRegExp))&&($results=$results.add($choice))}),module.debug("Setting filter",searchTerm),module.remove.filteredItem(),$item.not($results).addClass(className.filtered),module.verbose("Selecting first non-filtered element"),module.remove.selectedItem(),$item.not("."+className.filtered).eq(0).addClass(className.selected),module.is.allFiltered()&&(module.debug("All items filtered, hiding dropdown",searchTerm),module.is.searchSelection()&&module.hide(),settings.onNoResults.call(element,searchTerm))},focusSearch:function(){module.is.search()&&$search.focus()},forceSelection:function(){var $currentlySelected=$item.not(className.filtered).filter("."+className.selected).eq(0),$activeItem=$item.filter("."+className.active).eq(0),$selectedItem=$currentlySelected.length>0?$currentlySelected:$activeItem,hasSelected=$selectedItem.size()>0;hasSelected?(module.event.item.click.call($selectedItem),module.remove.filteredItem()):module.hide()},event:{mousedown:function(){activated=!0},mouseup:function(){activated=!1},focus:function(){!activated&&module.is.hidden()&&module.show()},blur:function(event){var pageLostFocus=document.activeElement===this;activated||pageLostFocus||module.hide()},searchFocus:function(){activated=!0,module.show()},searchBlur:function(event){var pageLostFocus=document.activeElement===this;itemActivated||pageLostFocus||(settings.forceSelection?module.forceSelection():module.hide())},searchTextFocus:function(event){activated=!0,$search.focus()},input:function(event){module.is.searchSelection()&&module.set.filtered(),clearTimeout(module.timer),module.timer=setTimeout(module.search,settings.delay.search)},keydown:function(event){var $nextItem,$currentlySelected=$item.not(className.filtered).filter("."+className.selected).eq(0),$activeItem=$menu.children("."+className.active).eq(0),$selectedItem=$currentlySelected.length>0?$currentlySelected:$activeItem,$visibleItems=$selectedItem.length>0?$selectedItem.siblings(":not(."+className.filtered+")").andSelf():$menu.children(":not(."+className.filtered+")"),$subMenu=$selectedItem.children(selector.menu),$parentMenu=$selectedItem.closest(selector.menu),isSubMenuItem=$parentMenu[0]!==$menu[0],inVisibleMenu=$parentMenu.is(":visible"),pressedKey=event.which,keys={enter:13,escape:27,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},hasSubMenu=$subMenu.length>0,hasSelectedItem=$selectedItem.length>0;$visibleItems.size()-1;if(module.is.visible()){if(pressedKey==keys.enter&&hasSelectedItem&&(hasSubMenu&&!settings.allowCategorySelection?(module.verbose("Pressed enter on unselectable category, opening sub menu"),pressedKey=keys.rightArrow):(module.verbose("Enter key pressed, choosing selected item"),module.event.item.click.call($selectedItem,event))),pressedKey==keys.leftArrow&&isSubMenuItem&&(module.verbose("Left key pressed, closing sub-menu"),module.animate.hide(!1,$parentMenu),$selectedItem.removeClass(className.selected),$parentMenu.closest(selector.item).addClass(className.selected),event.preventDefault()),pressedKey==keys.rightArrow&&hasSubMenu&&(module.verbose("Right key pressed, opening sub-menu"),module.animate.show(!1,$subMenu),$selectedItem.removeClass(className.selected),$subMenu.find(selector.item).eq(0).addClass(className.selected),event.preventDefault()),pressedKey==keys.upArrow){if($nextItem=hasSelectedItem&&inVisibleMenu?$selectedItem.prevAll(selector.item+":not(."+className.filtered+")").eq(0):$item.eq(0),$visibleItems.index($nextItem)<0)return void module.verbose("Up key pressed but reached top of current menu");module.verbose("Up key pressed, changing active item"),$selectedItem.removeClass(className.selected),$nextItem.addClass(className.selected),module.set.scrollPosition($nextItem),event.preventDefault()}if(pressedKey==keys.downArrow){if($nextItem=hasSelectedItem&&inVisibleMenu?$nextItem=$selectedItem.nextAll(selector.item+":not(."+className.filtered+")").eq(0):$item.eq(0),0===$nextItem.length)return void module.verbose("Down key pressed but reached bottom of current menu");module.verbose("Down key pressed, changing active item"),$item.removeClass(className.selected),$nextItem.addClass(className.selected),module.set.scrollPosition($nextItem),event.preventDefault()}}else pressedKey==keys.enter&&(module.verbose("Enter key pressed, showing dropdown"),module.show()),pressedKey==keys.escape&&(module.verbose("Escape key pressed, closing dropdown"),module.hide()),pressedKey==keys.downArrow&&(module.verbose("Down key pressed, showing dropdown"),module.show())},test:{toggle:function(event){module.determine.eventInMenu(event,module.toggle)&&event.preventDefault()},touch:function(event){module.determine.eventInMenu(event,function(){"touchstart"==event.type?module.timer=setTimeout(module.hide,settings.delay.touch):"touchmove"==event.type&&clearTimeout(module.timer)}),event.stopPropagation()},hide:function(event){module.determine.eventInModule(event,module.hide)}},menu:{activate:function(){itemActivated=!0},deactivate:function(){itemActivated=!1}},item:{mouseenter:function(event){var $subMenu=$(this).children(selector.menu),$otherMenus=$(this).siblings(selector.item).children(selector.menu);$subMenu.length>0&&(clearTimeout(module.itemTimer),module.itemTimer=setTimeout(function(){module.verbose("Showing sub-menu",$subMenu),$.each($otherMenus,function(){module.animate.hide(!1,$(this))}),module.animate.show(!1,$subMenu)},settings.delay.show),event.preventDefault())},mouseleave:function(event){var $subMenu=$(this).children(selector.menu);$subMenu.length>0&&(clearTimeout(module.itemTimer),module.itemTimer=setTimeout(function(){module.verbose("Hiding sub-menu",$subMenu),module.animate.hide(!1,$subMenu)},settings.delay.hide))},click:function(event){var $choice=$(this),$target=$(event?event.target:""),$subMenu=$choice.find(selector.menu),text=module.get.choiceText($choice),value=module.get.choiceValue($choice,text),callback=function(){module.remove.searchTerm(),module.determine.selectAction(text,value)},hasSubMenu=$subMenu.length>0,isBubbledEvent=$subMenu.find($target).length>0;isBubbledEvent||hasSubMenu&&!settings.allowCategorySelection||callback()}},resetStyle:function(){$(this).removeAttr("style")}},determine:{selectAction:function(text,value){module.verbose("Determining action",settings.action),$.isFunction(module.action[settings.action])?(module.verbose("Triggering preset action",settings.action,text,value),module.action[settings.action](text,value)):$.isFunction(settings.action)?(module.verbose("Triggering user action",settings.action,text,value),settings.action(text,value)):module.error(error.action,settings.action)},eventInModule:function(event,callback){return callback=$.isFunction(callback)?callback:function(){},0===$(event.target).closest($module).length?(module.verbose("Triggering event",callback),callback(),!0):(module.verbose("Event occurred in dropdown, canceling callback"),!1)},eventInMenu:function(event,callback){return callback=$.isFunction(callback)?callback:function(){},0===$(event.target).closest($menu).length?(module.verbose("Triggering event",callback),callback(),!0):(module.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(text,value){value=value!==undefined?value:text,module.set.selected(value),module.hide(function(){module.remove.filteredItem()})},select:function(text,value){value=value!==undefined?value:text,module.set.selected(value),module.hide(function(){module.remove.filteredItem()})},combo:function(text,value){value=value!==undefined?value:text,module.set.selected(value),module.hide(function(){module.remove.filteredItem()})},hide:function(){module.hide(function(){module.remove.filteredItem()})}},get:{id:function(){return id},text:function(){return $text.text()},value:function(){return $input.length>0?$input.val():$module.data(metadata.value)},choiceText:function($choice,preserveHTML){if(preserveHTML=preserveHTML!==undefined?preserveHTML:settings.preserveHTML,$choice!==undefined)return $choice.find(selector.menu).length>0&&(module.verbose("Retreiving text of element with sub-menu"),$choice=$choice.clone(),$choice.find(selector.menu).remove(),$choice.find(selector.menuIcon).remove()),$choice.data(metadata.text)!==undefined?$choice.data(metadata.text):preserveHTML?$choice.html().trim():$choice.text().trim()},choiceValue:function($choice,choiceText){return choiceText=choiceText||module.get.choiceText($choice),$choice.data(metadata.value)!==undefined?$choice.data(metadata.value):"string"==typeof choiceText?choiceText.toLowerCase().trim():choiceText.trim()},inputEvent:function(){var input=$search[0];return!!input&&(input.oninput!==undefined?"input":input.onpropertychange!==undefined?"propertychange":"keyup")},selectValues:function(){var select={};return select.values=settings.sortSelect?{}:[],$module.find("option").each(function(){var name=$(this).html(),value=$(this).attr("value")!==undefined?$(this).attr("value"):name;""===value?select.placeholder=name:settings.sortSelect?select.values[value]={name:name,value:value}:select.values.push({name:name,value:value})}),settings.sortSelect?module.debug("Retrieved and sorted values from select",select):module.debug("Retreived values from select",select),select},activeItem:function(){return $item.filter("."+className.active)},item:function(value,strict){var $selectedItem=!1;return value=value!==undefined?value:module.get.value()!==undefined?module.get.value():module.get.text(),strict=""===value||0===value||(strict||!1),value!==undefined?$item.each(function(){var $choice=$(this),optionText=module.get.choiceText($choice),optionValue=module.get.choiceValue($choice,optionText);if(strict){if(module.verbose("Ambiguous dropdown value using strict type check",$choice,value),optionValue===value)return $selectedItem=$(this),!0;if(!$selectedItem&&optionText===value)return $selectedItem=$(this),!0}else{if(optionValue==value)return module.verbose("Found select item by value",optionValue,value),$selectedItem=$(this),!0;if(!$selectedItem&&optionText==value)return module.verbose("Found select item by text",optionText,value),$selectedItem=$(this),!0}}):value=module.get.text(),$selectedItem||!1}},restore:{defaults:function(){module.restore.defaultText(),module.restore.defaultValue()},defaultText:function(){var defaultText=$module.data(metadata.defaultText);module.debug("Restoring default text",defaultText),module.set.text(defaultText),$text.addClass(className.placeholder)},defaultValue:function(){var defaultValue=$module.data(metadata.defaultValue);defaultValue!==undefined&&(module.debug("Restoring default value",defaultValue),defaultValue.length?module.set.selected(defaultValue):(module.remove.activeItem(),module.remove.selectedItem()))}},save:{defaults:function(){module.save.defaultText(),module.save.placeholderText(),module.save.defaultValue()},defaultValue:function(){$module.data(metadata.defaultValue,module.get.value())},defaultText:function(){$module.data(metadata.defaultText,$text.text())},placeholderText:function(){$text.hasClass(className.placeholder)&&$module.data(metadata.placeholderText,$text.text())}},clear:function(){var placeholderText=$module.data(metadata.placeholderText);module.set.text(placeholderText),module.set.value(""),module.remove.activeItem(),module.remove.selectedItem(),$text.addClass(className.placeholder)},set:{filtered:function(){var searchValue=$search.val(),hasSearchValue="string"==typeof searchValue&&searchValue.length>0;hasSearchValue?$text.addClass(className.filtered):$text.removeClass(className.filtered)},tabbable:function(){module.is.searchable()?(module.debug("Searchable dropdown initialized"),$search.val("").attr("tabindex",0),$menu.attr("tabindex","-1")):(module.debug("Simple selection dropdown initialized"),$module.attr("tabindex")||($module.attr("tabindex",0),$menu.attr("tabindex","-1")))},scrollPosition:function($item,forceScroll){var hasActive,offset,itemHeight,itemOffset,menuOffset,menuScroll,menuHeight,abovePage,belowPage,edgeTolerance=5;$item=$item||module.get.activeItem(),hasActive=$item&&$item.length>0,forceScroll=forceScroll!==undefined&&forceScroll,$item&&hasActive&&($menu.hasClass(className.visible)||$menu.addClass(className.loading),menuHeight=$menu.height(),itemHeight=$item.height(),menuScroll=$menu.scrollTop(),menuOffset=$menu.offset().top,itemOffset=$item.offset().top,offset=menuScroll-menuOffset+itemOffset,belowPage=menuScroll+menuHeight<offset+edgeTolerance,abovePage=offset-edgeTolerance<menuScroll,module.debug("Scrolling to active item",offset),(abovePage||belowPage||forceScroll)&&$menu.scrollTop(offset).removeClass(className.loading))},text:function(text){"combo"==settings.action?(module.debug("Changing combo button text",text,$combo),settings.preserveHTML?$combo.html(text):$combo.text(text)):"select"!==settings.action&&(module.debug("Changing text",text,$text),$text.removeClass(className.filtered).removeClass(className.placeholder),settings.preserveHTML?$text.html(text):$text.text(text))},value:function(value){module.debug("Adding selected value to hidden input",value,$input),$input.length>0?$input.val(value).trigger("change"):$module.data(metadata.value,value)},active:function(){$module.addClass(className.active)},visible:function(){$module.addClass(className.visible)},selected:function(value){var selectedText,selectedValue,$selectedItem=module.get.item(value);$selectedItem&&!$selectedItem.hasClass(className.active)&&(module.debug("Setting selected menu item to",$selectedItem),module.remove.activeItem(),module.remove.selectedItem(),$selectedItem.addClass(className.active).addClass(className.selected),selectedText=module.get.choiceText($selectedItem),selectedValue=module.get.choiceValue($selectedItem,selectedText),module.set.text(selectedText),module.set.value(selectedValue),settings.onChange.call(element,value,selectedText,$selectedItem))}},remove:{active:function(){$module.removeClass(className.active)},visible:function(){$module.removeClass(className.visible)},activeItem:function(){$item.removeClass(className.active)},filteredItem:function(){$item.removeClass(className.filtered)},searchTerm:function(){$search.val("")},selectedItem:function(){$item.removeClass(className.selected)},tabbable:function(){module.is.searchable()?(module.debug("Searchable dropdown initialized"),$search.attr("tabindex","-1"),$menu.attr("tabindex","-1")):(module.debug("Simple selection dropdown initialized"),$module.attr("tabindex","-1"),$menu.attr("tabindex","-1"))}},is:{active:function(){return $module.hasClass(className.active)},alreadySetup:function(){return $module.is("select")&&$module.parent(selector.dropdown).length>0},animating:function($subMenu){return $subMenu?$subMenu.is(":animated")||$subMenu.transition&&$subMenu.transition("is animating"):$menu.is(":animated")||$menu.transition&&$menu.transition("is animating")},allFiltered:function(){return $item.filter("."+className.filtered).length===$item.length},hidden:function($subMenu){return $subMenu?$subMenu.is(":hidden"):$menu.is(":hidden")},selectMutation:function(mutations){var selectChanged=!1;return $.each(mutations,function(index,mutation){if(mutation.target&&$(mutation.target).is("select"))return selectChanged=!0,!0}),selectChanged},search:function(){return $module.hasClass(className.search)},searchable:function(){return $search.length>0},searchSelection:function(){return module.is.searchable()&&$search.parent().is($module)},selection:function(){return $module.hasClass(className.selection)},upward:function(){return $module.hasClass(className.upward)},visible:function($subMenu){return $subMenu?$subMenu.is(":visible"):$menu.is(":visible")}},can:{click:function(){return hasTouch||"click"==settings.on},show:function(){return!$module.hasClass(className.disabled)}},animate:{show:function(callback,$subMenu){var $currentMenu=$subMenu||$menu,start=$subMenu?function(){}:function(){module.hideSubMenus(),module.hideOthers(),module.set.active()};callback=$.isFunction(callback)?callback:function(){},module.set.scrollPosition(module.get.activeItem(),!0),module.verbose("Doing menu show animation",$currentMenu),(module.is.hidden($currentMenu)||module.is.animating($currentMenu))&&("auto"==settings.transition&&(settings.transition=module.is.upward()?"slide up":"slide down",module.verbose("Automatically determining animation based on animation direction",settings.transition)),"none"==settings.transition?callback.call(element):$.fn.transition!==undefined&&$module.transition("is supported")?$currentMenu.transition({animation:settings.transition+" in",debug:settings.debug,verbose:settings.verbose,duration:settings.duration,queue:!0,onStart:start,onComplete:function(){callback.call(element)}}):"slide down"==settings.transition?(start(),$currentMenu.hide().clearQueue().children().clearQueue().css("opacity",0).delay(50).animate({opacity:1},settings.duration,"easeOutQuad",module.event.resetStyle).end().slideDown(100,"easeOutQuad",function(){module.event.resetStyle.call(this),callback.call(element)})):"fade"==settings.transition?(start(),$currentMenu.hide().clearQueue().fadeIn(settings.duration,function(){module.event.resetStyle.call(this),callback.call(element)})):module.error(error.transition,settings.transition))},hide:function(callback,$subMenu){var $currentMenu=$subMenu||$menu,start=($subMenu?.9*settings.duration:settings.duration,$subMenu?function(){}:function(){module.can.click()&&module.unbind.intent(),module.focusSearch(),module.remove.active()});callback=$.isFunction(callback)?callback:function(){},(module.is.visible($currentMenu)||module.is.animating($currentMenu))&&(module.verbose("Doing menu hide animation",$currentMenu),"auto"==settings.transition&&(settings.transition=module.is.upward()?"slide up":"slide down"),$input.trigger("blur"),"none"==settings.transition?callback.call(element):$.fn.transition!==undefined&&$module.transition("is supported")?$currentMenu.transition({animation:settings.transition+" out",duration:settings.duration,debug:settings.debug,verbose:settings.verbose,queue:!0,onStart:start,onComplete:function(){callback.call(element)}}):"slide down"==settings.transition?(start(),$currentMenu.show().clearQueue().children().clearQueue().css("opacity",1).animate({opacity:0},100,"easeOutQuad",module.event.resetStyle).end().delay(50).slideUp(100,"easeOutQuad",function(){module.event.resetStyle.call(this),callback.call(element)})):"fade"==settings.transition?(start(),$currentMenu.show().clearQueue().fadeOut(150,function(){module.event.resetStyle.call(this),callback.call(element)})):module.error(error.transition))}},delay:{show:function(){module.verbose("Delaying show event to ensure user intent"),clearTimeout(module.timer),module.timer=setTimeout(module.show,settings.delay.show)},hide:function(){module.verbose("Delaying hide event to ensure user intent"),clearTimeout(module.timer),module.timer=setTimeout(module.hide,settings.delay.hide)}},escape:{regExp:function(text){return text=String(text),text.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:$allModules},$.fn.dropdown.settings={debug:!1,verbose:!0,performance:!0,on:"click",action:"activate",allowTab:!0,fullTextSearch:!1,preserveHTML:!0,sortSelect:!1,allowCategorySelection:!1,delay:{hide:300,show:200,search:50,touch:50},forceSelection:!0,transition:"auto",duration:250,onNoResults:function(searchTerm){},onChange:function(value,text){},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",method:"The method you called is not defined.",transition:"The requested transition was not found"},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholderText",text:"text",value:"value"},selector:{dropdown:".ui.dropdown",input:'> input[type="hidden"], > select',item:".item",menu:".menu",menuIcon:".dropdown.icon",search:"> input.search, .menu > .search > input, .menu > input.search",text:"> .text:not(.icon)"},className:{active:"active",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",loading:"loading",menu:"menu",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},$.fn.dropdown.settings.templates={menu:function(select){var html=(select.placeholder||!1,select.values||{},"");return $.each(select.values,function(index,option){html+='<div class="item" data-value="'+option.value+'">'+option.name+"</div>"}),html},dropdown:function(select){var placeholder=select.placeholder||!1,html=(select.values||{},"");return html+='<i class="dropdown icon"></i>',html+=select.placeholder?'<div class="default text">'+placeholder+"</div>":'<div class="text"></div>',html+='<div class="menu">',$.each(select.values,function(index,option){html+='<div class="item" data-value="'+option.value+'">'+option.name+"</div>"}),html+="</div>"}},$.extend($.easing,{easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b}})}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.modal=function(parameters){var returnedValue,$allModules=$(this),$window=$(window),$document=$(document),$body=$("body"),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)};return $allModules.each(function(){var $allModals,$otherModals,$focusedElement,$dimmable,$dimmer,elementNamespace,id,observer,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.modal.settings,parameters):$.extend({},$.fn.modal.settings),selector=settings.selector,className=settings.className,namespace=settings.namespace,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$context=$(settings.context),$close=$module.find(selector.close),element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.verbose("Initializing dimmer",$context),module.create.id(),module.create.dimmer(),module.refreshModals(),module.verbose("Attaching close events",$close),module.bind.events(),module.observeChanges(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of modal"),instance=module,$module.data(moduleNamespace,instance)},create:{dimmer:function(){var defaultSettings={debug:settings.debug,dimmerName:"modals",duration:{show:settings.duration,hide:settings.duration}},dimmerSettings=$.extend(!0,defaultSettings,settings.dimmerSettings);return $.fn.dimmer===undefined?void module.error(error.dimmer):(module.debug("Creating dimmer with settings",dimmerSettings),$dimmable=$context.dimmer(dimmerSettings),settings.detachable&&(module.verbose("Modal is detachable, moving content into dimmer"),$dimmable.dimmer("add content",$module)),void($dimmer=$dimmable.dimmer("get dimmer")))},id:function(){id=(Math.random().toString(16)+"000000000").substr(2,8),elementNamespace="."+id,module.verbose("Creating unique id for element",id)}},destroy:function(){module.verbose("Destroying previous modal"),$module.removeData(moduleNamespace).off(eventNamespace),$window.off(elementNamespace),$close.off(eventNamespace),$context.dimmer("destroy")},observeChanges:function(){"MutationObserver"in window&&(observer=new MutationObserver(function(mutations){module.debug("DOM tree modified, refreshing"),module.refresh()}),observer.observe(element,{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",observer))},refresh:function(){module.remove.scrolling(),module.cacheSizes(),module.set.screenHeight(),module.set.type(),module.set.position()},refreshModals:function(){$otherModals=$module.siblings(selector.modal),$allModals=$otherModals.add($module)},attachEvents:function(selector,event){var $toggle=$(selector);event=$.isFunction(module[event])?module[event]:module.toggle,$toggle.length>0?(module.debug("Attaching modal events to element",selector,event),$toggle.off(eventNamespace).on("click"+eventNamespace,event)):module.error(error.notFound,selector)},bind:{events:function(){$close.on("click"+eventNamespace,module.event.close),$window.on("resize"+elementNamespace,module.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{close:function(){module.verbose("Closing element pressed"),$(this).is(selector.approve)?settings.onApprove.call(element)!==!1?module.hide():module.verbose("Approve callback returned false cancelling hide"):$(this).is(selector.deny)?settings.onDeny.call(element)!==!1?module.hide():module.verbose("Deny callback returned false cancelling hide"):module.hide()},click:function(event){0===$(event.target).closest($module).length&&(module.debug("Dimmer clicked, hiding all modals"),module.is.active()&&(module.remove.clickaway(),settings.allowMultiple?module.hide():module.hideAll()))},debounce:function(method,delay){clearTimeout(module.timer),module.timer=setTimeout(method,delay)},keyboard:function(event){var keyCode=event.which,escapeKey=27;keyCode==escapeKey&&(settings.closable?(module.debug("Escape key pressed hiding modal"),module.hide()):module.debug("Escape key pressed, but closable is set to false"),event.preventDefault())},resize:function(){$dimmable.dimmer("is active")&&requestAnimationFrame(module.refresh)}},toggle:function(){module.is.active()||module.is.animating()?module.hide():module.show()},show:function(callback){callback=$.isFunction(callback)?callback:function(){},module.refreshModals(),module.showModal(callback)},hide:function(callback){callback=$.isFunction(callback)?callback:function(){},module.refreshModals(),module.hideModal(callback)},showModal:function(callback){callback=$.isFunction(callback)?callback:function(){},module.is.animating()||!module.is.active()?(module.showDimmer(),module.cacheSizes(),module.set.position(),module.set.screenHeight(),module.set.type(),module.set.clickaway(),!settings.allowMultiple&&$otherModals.filter("."+className.active).length>0?(module.debug("Other modals visible, queueing show animation"),module.hideOthers(module.showModal)):(settings.onShow.call(element),settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?(module.debug("Showing modal with css animations"),$module.transition({debug:settings.debug,animation:settings.transition+" in",queue:settings.queue,duration:settings.duration,useFailSafe:!0,onComplete:function(){settings.onVisible.apply(element),module.add.keyboardShortcuts(),module.save.focus(),module.set.active(),module.set.autofocus(),callback()}})):(module.debug("Showing modal with javascript"),$module.fadeIn(settings.duration,settings.easing,function(){settings.onVisible.apply(element),module.add.keyboardShortcuts(),module.save.focus(),module.set.active(),callback()})))):module.debug("Modal is already visible")},hideModal:function(callback,keepDimmed){callback=$.isFunction(callback)?callback:function(){},module.debug("Hiding modal"),settings.onHide.call(element),(module.is.animating()||module.is.active())&&(settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?(module.remove.active(),$module.transition({debug:settings.debug,animation:settings.transition+" out",queue:settings.queue,duration:settings.duration,useFailSafe:!0,onStart:function(){module.othersActive()||keepDimmed||module.hideDimmer(),module.remove.keyboardShortcuts()},onComplete:function(){settings.onHidden.call(element),module.restore.focus(),
callback()}})):(module.remove.active(),module.othersActive()||module.hideDimmer(),module.remove.keyboardShortcuts(),$module.fadeOut(settings.duration,settings.easing,function(){settings.onHidden.call(element),module.restore.focus(),callback()})))},showDimmer:function(){$dimmable.dimmer("is animating")||!$dimmable.dimmer("is active")?(module.debug("Showing dimmer"),$dimmable.dimmer("show")):module.debug("Dimmer already visible")},hideDimmer:function(){return $dimmable.dimmer("is animating")||$dimmable.dimmer("is active")?void $dimmable.dimmer("hide",function(){settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")&&(module.remove.clickaway(),module.remove.screenHeight())}):void module.debug("Dimmer is not visible cannot hide")},hideAll:function(callback){var $visibleModals=$allModals.filter(":visible");callback=$.isFunction(callback)?callback:function(){},$visibleModals.length>0&&(module.debug("Hiding all visible modals"),module.hideDimmer(),$visibleModals.modal("hide modal",callback))},hideOthers:function(callback){var $visibleModals=$otherModals.filter(":visible");callback=$.isFunction(callback)?callback:function(){},$visibleModals.length>0&&(module.debug("Hiding other modals",$otherModals),$visibleModals.modal("hide modal",callback,!0))},othersActive:function(){return $otherModals.filter("."+className.active).length>0},add:{keyboardShortcuts:function(){module.verbose("Adding keyboard shortcuts"),$document.on("keyup"+eventNamespace,module.event.keyboard)}},save:{focus:function(){$focusedElement=$(document.activeElement).blur()}},restore:{focus:function(){$focusedElement&&$focusedElement.length>0&&$focusedElement.focus()}},remove:{active:function(){$module.removeClass(className.active)},clickaway:function(){settings.closable&&$dimmer.off("click"+elementNamespace)},screenHeight:function(){module.cache.height>module.cache.pageHeight&&(module.debug("Removing page height"),$body.css("height",""))},keyboardShortcuts:function(){module.verbose("Removing keyboard shortcuts"),$document.off("keyup"+eventNamespace)},scrolling:function(){$dimmable.removeClass(className.scrolling),$module.removeClass(className.scrolling)}},cacheSizes:function(){var modalHeight=$module.outerHeight();module.cache!==undefined&&0===modalHeight||(module.cache={pageHeight:$(document).outerHeight(),height:modalHeight+settings.offset,contextHeight:"body"==settings.context?$(window).height():$dimmable.height()}),module.debug("Caching modal and container sizes",module.cache)},can:{fit:function(){return module.cache.height+2*settings.padding<module.cache.contextHeight}},is:{active:function(){return $module.hasClass(className.active)},animating:function(){return $module.transition("is supported")?$module.transition("is animating"):$module.is(":visible")},scrolling:function(){return $dimmable.hasClass(className.scrolling)},modernBrowser:function(){return!(window.ActiveXObject||"ActiveXObject"in window)}},set:{autofocus:function(){if(settings.autofocus){var $inputs=$module.find(":input:visible"),$autofocus=$inputs.filter("[autofocus]"),$input=$autofocus.length>0?$autofocus:$inputs;$input.first().focus()}},clickaway:function(){settings.closable&&$dimmer.on("click"+elementNamespace,module.event.click)},screenHeight:function(){module.can.fit()?$body.css("height",""):(module.debug("Modal is taller than page content, resizing page height"),$body.css("height",module.cache.height+settings.padding/2))},active:function(){$module.addClass(className.active)},scrolling:function(){$dimmable.addClass(className.scrolling),$module.addClass(className.scrolling)},type:function(){module.can.fit()?(module.verbose("Modal fits on screen"),module.othersActive||module.remove.scrolling()):(module.verbose("Modal cannot fit on screen setting to scrolling"),module.set.scrolling())},position:function(){module.verbose("Centering modal on page",module.cache),module.can.fit()?$module.css({top:"",marginTop:-(module.cache.height/2)}):$module.css({marginTop:"",top:$document.scrollTop()})}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined&&(found=object[value],!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!0,performance:!0,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,easing:"easeOutExpo",offset:0,transition:"scale",padding:50,onShow:function(){},onHide:function(){},onVisible:function(){},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:".close, .actions .button",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",scrolling:"scrolling"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.nag=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.nag.settings,parameters):$.extend({},$.fn.nag.settings),selector=(settings.className,settings.selector),error=settings.error,namespace=settings.namespace,eventNamespace="."+namespace,moduleNamespace=namespace+"-module",$module=$(this),$close=$module.find(selector.close),$context=$(settings.context?settings.context:"body"),element=this,instance=$module.data(moduleNamespace);window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)};module={initialize:function(){module.verbose("Initializing element"),$module.data(moduleNamespace,module),$close.on("click"+eventNamespace,module.dismiss),settings.detachable&&$module.parent()[0]!==$context[0]&&$module.detach().prependTo($context),settings.displayTime>0&&setTimeout(module.hide,settings.displayTime),module.show()},destroy:function(){module.verbose("Destroying instance"),$module.removeData(moduleNamespace).off(eventNamespace)},show:function(){module.should.show()&&!$module.is(":visible")&&(module.debug("Showing nag",settings.animation.show),"fade"==settings.animation.show?$module.fadeIn(settings.duration,settings.easing):$module.slideDown(settings.duration,settings.easing))},hide:function(){module.debug("Showing nag",settings.animation.hide),"fade"==settings.animation.show?$module.fadeIn(settings.duration,settings.easing):$module.slideUp(settings.duration,settings.easing)},onHide:function(){module.debug("Removing nag",settings.animation.hide),$module.remove(),settings.onHide&&settings.onHide()},dismiss:function(event){settings.storageMethod&&module.storage.set(settings.key,settings.value),module.hide(),event.stopImmediatePropagation(),event.preventDefault()},should:{show:function(){return settings.persist?(module.debug("Persistent nag is set, can show nag"),!0):module.storage.get(settings.key)!=settings.value.toString()?(module.debug("Stored value is not set, can show nag",module.storage.get(settings.key)),!0):(module.debug("Stored value is set, cannot show nag",module.storage.get(settings.key)),!1)}},get:{storageOptions:function(){var options={};return settings.expires&&(options.expires=settings.expires),settings.domain&&(options.domain=settings.domain),settings.path&&(options.path=settings.path),options}},clear:function(){module.storage.remove(settings.key)},storage:{set:function(key,value){var options=module.get.storageOptions();if("localstorage"==settings.storageMethod&&window.localStorage!==undefined)window.localStorage.setItem(key,value),module.debug("Value stored using local storage",key,value);else{if($.cookie===undefined)return void module.error(error.noCookieStorage);$.cookie(key,value,options),module.debug("Value stored using cookie",key,value,options)}},get:function(key,value){var storedValue;return"localstorage"==settings.storageMethod&&window.localStorage!==undefined?storedValue=window.localStorage.getItem(key):$.cookie!==undefined?storedValue=$.cookie(key):module.error(error.noCookieStorage),"undefined"!=storedValue&&"null"!=storedValue&&storedValue!==undefined&&null!==storedValue||(storedValue=undefined),storedValue},remove:function(key){var options=module.get.storageOptions();"local"==settings.storageMethod&&window.store!==undefined?window.localStorage.removeItem(key):$.cookie!==undefined?$.removeCookie(key,options):module.error(error.noStorage)}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.nag.settings={name:"Nag",debug:!1,verbose:!0,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.popup=function(parameters){var returnedValue,$allModules=$(this),$document=$(document),moduleSelector=$allModules.selector||"",hasTouch="ontouchstart"in document.documentElement,time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var $popup,$offsetParent,elementNamespace,id,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.popup.settings,parameters):$.extend({},$.fn.popup.settings),selector=settings.selector,className=settings.className,error=settings.error,metadata=settings.metadata,namespace=settings.namespace,eventNamespace="."+settings.namespace,moduleNamespace="module-"+namespace,$module=$(this),$context=$(settings.context),$target=settings.target?$(settings.target):$module,$window=$(window),$body=$("body"),searchDepth=0,triedPositions=!1,element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing",$module),module.createID(),module.bind.events(),!module.exists()&&settings.preserve&&module.create(),module.instantiate()},instantiate:function(){module.verbose("Storing instance",module),instance=module,$module.data(moduleNamespace,instance)},refresh:function(){settings.popup?$popup=$(settings.popup).eq(0):settings.inline&&($popup=$target.next(selector.popup).eq(0)),settings.popup?($popup.addClass(className.loading),$offsetParent=module.get.offsetParent(),$popup.removeClass(className.loading),settings.movePopup&&module.has.popup()&&module.get.offsetParent($popup)[0]!==$offsetParent[0]&&(module.debug("Moving popup to the same offset parent as activating element"),$popup.detach().appendTo($offsetParent))):$offsetParent=settings.inline?module.get.offsetParent($target):module.has.popup()?module.get.offsetParent($popup):$body,$offsetParent.is("html")&&(module.debug("Setting page as offset parent"),$offsetParent=$body)},reposition:function(){module.refresh(),module.set.position()},destroy:function(){module.debug("Destroying previous module"),$popup&&!settings.preserve&&module.removePopup(),clearTimeout(module.hideTimer),clearTimeout(module.showTimer),$window.off(elementNamespace),$module.off(eventNamespace).removeData(moduleNamespace)},event:{start:function(event){var delay=$.isPlainObject(settings.delay)?settings.delay.show:settings.delay;clearTimeout(module.hideTimer),module.showTimer=setTimeout(function(){!module.is.hidden()||module.is.active()&&module.is.dropdown()||module.show()},delay)},end:function(){var delay=$.isPlainObject(settings.delay)?settings.delay.hide:settings.delay;clearTimeout(module.showTimer),module.hideTimer=setTimeout(function(){module.is.visible()&&module.hide()},delay)},resize:function(){module.is.visible()&&module.set.position()}},create:function(){var html=$module.data(metadata.html)||settings.html,variation=$module.data(metadata.variation)||settings.variation,title=$module.data(metadata.title)||settings.title,content=$module.data(metadata.content)||$module.attr("title")||settings.content;html||content||title?(module.debug("Creating pop-up html"),html||(html=settings.templates.popup({title:title,content:content})),$popup=$("<div/>").addClass(className.popup).addClass(variation).data(metadata.activator,$module).html(html),variation&&$popup.addClass(variation),settings.inline?(module.verbose("Inserting popup element inline",$popup),$popup.insertAfter($module)):(module.verbose("Appending popup element to body",$popup),$popup.appendTo($context)),module.refresh(),settings.hoverable&&module.bind.popup(),settings.onCreate.call($popup,element)):0!==$target.next(selector.popup).length?(module.verbose("Pre-existing popup found"),settings.inline=!0,settings.popup=$target.next(selector.popup).data(metadata.activator,$module),module.refresh(),settings.hoverable&&module.bind.popup()):settings.popup?(settings.popup.data(metadata.activator,$module),module.verbose("Used popup specified in settings"),module.refresh(),settings.hoverable&&module.bind.popup()):module.debug("No content specified skipping display",element)},createID:function(){id=(Math.random().toString(16)+"000000000").substr(2,8),elementNamespace="."+id,module.verbose("Creating unique id for element",id)},toggle:function(){module.debug("Toggling pop-up"),module.is.hidden()?(module.debug("Popup is hidden, showing pop-up"),module.unbind.close(),module.show()):(module.debug("Popup is visible, hiding pop-up"),module.hide())},show:function(callback){callback=$.isFunction(callback)?callback:function(){},module.debug("Showing pop-up",settings.transition),module.exists()?settings.preserve||settings.popup||module.refresh():module.create(),$popup&&module.set.position()&&(module.save.conditions(),settings.exclusive&&module.hideAll(),module.animate.show(callback))},hide:function(callback){callback=$.isFunction(callback)?callback:function(){},module.remove.visible(),module.unbind.close(),module.is.visible()&&(module.restore.conditions(),module.animate.hide(callback))},hideAll:function(){$(selector.popup).filter("."+className.visible).each(function(){$(this).data(metadata.activator).popup("hide")})},hideGracefully:function(event){event&&0===$(event.target).closest(selector.popup).length?(module.debug("Click occurred outside popup hiding popup"),module.hide()):module.debug("Click was inside popup, keeping popup open")},exists:function(){return!!$popup&&(settings.inline||settings.popup?module.has.popup():$popup.closest($context).length>=1)},removePopup:function(){module.debug("Removing popup",$popup),module.has.popup()&&!settings.popup&&($popup.remove(),$popup=undefined),settings.onRemove.call($popup,element)},save:{conditions:function(){module.cache={title:$module.attr("title")},module.cache.title&&$module.removeAttr("title"),module.verbose("Saving original attributes",module.cache.title)}},restore:{conditions:function(){return module.cache&&module.cache.title&&($module.attr("title",module.cache.title),module.verbose("Restoring original attributes",module.cache.title)),!0}},animate:{show:function(callback){callback=$.isFunction(callback)?callback:function(){},settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?(module.set.visible(),$popup.transition({animation:settings.transition+" in",queue:!1,debug:settings.debug,verbose:settings.verbose,duration:settings.duration,onComplete:function(){module.bind.close(),callback.call($popup,element),settings.onVisible.call($popup,element)}})):(module.set.visible(),$popup.stop().fadeIn(settings.duration,settings.easing,function(){module.bind.close(),callback.call($popup,element),settings.onVisible.call($popup,element)})),settings.onShow.call($popup,element)},hide:function(callback){callback=$.isFunction(callback)?callback:function(){},module.debug("Hiding pop-up"),settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?$popup.transition({animation:settings.transition+" out",queue:!1,duration:settings.duration,debug:settings.debug,verbose:settings.verbose,onComplete:function(){module.reset(),callback.call($popup,element),settings.onHidden.call($popup,element)}}):$popup.stop().fadeOut(settings.duration,settings.easing,function(){module.reset(),callback.call($popup,element),settings.onHidden.call($popup,element)}),settings.onHide.call($popup,element)}},get:{id:function(){return id},startEvent:function(){return"hover"==settings.on?hasTouch?"touchstart mouseenter":"mouseenter":"focus"==settings.on&&"focus"},scrollEvent:function(){return hasTouch?"touchmove scroll":"scroll"},endEvent:function(){return"hover"==settings.on?"mouseleave":"focus"==settings.on&&"blur"},offsetParent:function($target){var element=$target!==undefined?$target[0]:$module[0],parentNode=element.parentNode,$node=$(parentNode);if(parentNode)for(var is2D="none"===$node.css("transform"),isStatic="static"===$node.css("position"),isHTML=$node.is("html");parentNode&&!isHTML&&isStatic&&is2D;)parentNode=parentNode.parentNode,$node=$(parentNode),is2D="none"===$node.css("transform"),isStatic="static"===$node.css("position"),isHTML=$node.is("html");return $node&&$node.length>0?$node:$()},offstagePosition:function(position){var boundary={top:$(window).scrollTop(),bottom:$(window).scrollTop()+$(window).height(),left:0,right:$(window).width()},popup={width:$popup.width(),height:$popup.height(),offset:$popup.offset()},offstage={},offstagePositions=[];return position=position||!1,popup.offset&&position&&(module.verbose("Checking if outside viewable area",popup.offset),offstage={top:popup.offset.top<boundary.top,bottom:popup.offset.top+popup.height>boundary.bottom,right:popup.offset.left+popup.width>boundary.right,left:popup.offset.left<boundary.left}),$.each(offstage,function(direction,isOffstage){isOffstage&&offstagePositions.push(direction)}),offstagePositions.length>0&&offstagePositions.join(" ")},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(position){var positions=position.split(" "),verticalPosition=positions[0],horizontalPosition=positions[1],opposite={top:"bottom",bottom:"top",left:"right",right:"left"},adjacent={left:"center",center:"right",right:"left"},backup={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},adjacentsAvailable="top"==verticalPosition||"bottom"==verticalPosition,oppositeTried=!1,adjacentTried=!1,nextPosition=!1;return triedPositions||(module.verbose("All available positions available"),triedPositions=module.get.positions()),module.debug("Recording last position tried",position),triedPositions[position]=!0,"opposite"===settings.prefer&&(nextPosition=[opposite[verticalPosition],horizontalPosition],nextPosition=nextPosition.join(" "),oppositeTried=triedPositions[nextPosition]===!0,module.debug("Trying opposite strategy",nextPosition)),"adjacent"===settings.prefer&&adjacentsAvailable&&(nextPosition=[verticalPosition,adjacent[horizontalPosition]],nextPosition=nextPosition.join(" "),adjacentTried=triedPositions[nextPosition]===!0,module.debug("Trying adjacent strategy",nextPosition)),(adjacentTried||oppositeTried)&&(module.debug("Using backup position",nextPosition),nextPosition=backup[position]),nextPosition}},set:{position:function(position,arrowOffset){var computedPosition,positioning,offstagePosition,targetWidth=($(window).width(),$(window).height(),$target.outerWidth()),targetHeight=$target.outerHeight(),popupWidth=$popup.outerWidth(),popupHeight=$popup.outerHeight(),parentWidth=$offsetParent.outerWidth(),parentHeight=$offsetParent.outerHeight(),distanceAway=settings.distanceAway,targetElement=$target[0],marginTop=settings.inline?parseInt(window.getComputedStyle(targetElement).getPropertyValue("margin-top"),10):0,marginLeft=settings.inline?parseInt(window.getComputedStyle(targetElement).getPropertyValue(module.is.rtl()?"margin-right":"margin-left"),10):0,target=settings.inline||settings.popup?$target.position():$target.offset();switch(position=position||$module.data(metadata.position)||settings.position,arrowOffset=arrowOffset||$module.data(metadata.offset)||settings.offset,searchDepth==settings.maxSearchDepth&&settings.lastResort&&(module.debug("Using last resort position to display",settings.lastResort),position=settings.lastResort),settings.inline&&(module.debug("Adding targets margin to calculation"),"left center"==position||"right center"==position?(arrowOffset+=marginTop,distanceAway+=-marginLeft):"top left"==position||"top center"==position||"top right"==position?(arrowOffset+=marginLeft,distanceAway-=marginTop):(arrowOffset+=marginLeft,distanceAway+=marginTop)),module.debug("Calculating popup positioning",position),computedPosition=position,module.is.rtl()&&(computedPosition=computedPosition.replace(/left|right/g,function(match){return"left"==match?"right":"left"}),module.debug("RTL: Popup positioning updated",computedPosition)),computedPosition){case"top left":positioning={top:"auto",bottom:parentHeight-target.top+distanceAway,left:target.left+arrowOffset,right:"auto"};break;case"top center":positioning={bottom:parentHeight-target.top+distanceAway,left:target.left+targetWidth/2-popupWidth/2+arrowOffset,top:"auto",right:"auto"};break;case"top right":positioning={bottom:parentHeight-target.top+distanceAway,right:parentWidth-target.left-targetWidth-arrowOffset,top:"auto",left:"auto"};break;case"left center":positioning={top:target.top+targetHeight/2-popupHeight/2+arrowOffset,right:parentWidth-target.left+distanceAway,left:"auto",bottom:"auto"};break;case"right center":positioning={top:target.top+targetHeight/2-popupHeight/2+arrowOffset,left:target.left+targetWidth+distanceAway,bottom:"auto",right:"auto"};break;case"bottom left":positioning={top:target.top+targetHeight+distanceAway,left:target.left+arrowOffset,bottom:"auto",right:"auto"};break;case"bottom center":positioning={top:target.top+targetHeight+distanceAway,left:target.left+targetWidth/2-popupWidth/2+arrowOffset,bottom:"auto",right:"auto"};break;case"bottom right":positioning={top:target.top+targetHeight+distanceAway,right:parentWidth-target.left-targetWidth-arrowOffset,left:"auto",bottom:"auto"}}if(positioning===undefined&&module.error(error.invalidPosition,position),module.debug("Calculated popup positioning values",positioning),$popup.css(positioning).removeClass(className.position).addClass(position).addClass(className.loading),offstagePosition=module.get.offstagePosition(position)){if(module.debug("Popup cant fit into viewport",offstagePosition),searchDepth<settings.maxSearchDepth)return searchDepth++,position=module.get.nextPosition(position),module.debug("Trying new position",position),!!$popup&&module.set.position(position);if(!settings.lastResort)return module.debug("Popup could not find a position in view",$popup),module.remove.attempts(),module.remove.loading(),module.reset(),!1}return module.debug("Position is on stage",position),module.remove.attempts(),module.set.fluidWidth(),module.remove.loading(),!0},fluidWidth:function(){settings.setFluidWidth&&$popup.hasClass(className.fluid)&&$popup.css("width",$offsetParent.width())},visible:function(){$module.addClass(className.visible)}},remove:{loading:function(){$popup.removeClass(className.loading)},visible:function(){$module.removeClass(className.visible)},attempts:function(){module.verbose("Resetting all searched positions"),searchDepth=0,triedPositions=!1}},bind:{events:function(){module.debug("Binding popup events to module"),"click"==settings.on?$module.on("click"+eventNamespace,module.toggle):module.get.startEvent()&&$module.on(module.get.startEvent()+eventNamespace,module.event.start).on(module.get.endEvent()+eventNamespace,module.event.end),settings.target&&module.debug("Target set to element",$target),$window.on("resize"+elementNamespace,module.event.resize)},popup:function(){module.verbose("Allowing hover events on popup to prevent closing"),$popup&&module.has.popup()&&$popup.on("mouseenter"+eventNamespace,module.event.start).on("mouseleave"+eventNamespace,module.event.end)},close:function(){(settings.hideOnScroll===!0||"auto"==settings.hideOnScroll&&"click"!=settings.on)&&($document.one(module.get.scrollEvent()+elementNamespace,module.hideGracefully),$context.one(module.get.scrollEvent()+elementNamespace,module.hideGracefully)),"click"==settings.on&&settings.closable&&(module.verbose("Binding popup close event to document"),$document.on("click"+elementNamespace,function(event){module.verbose("Pop-up clickaway intent detected"),module.hideGracefully.call(element,event)}))}},unbind:{close:function(){(settings.hideOnScroll===!0||"auto"==settings.hideOnScroll&&"click"!=settings.on)&&($document.off("scroll"+elementNamespace,module.hide),$context.off("scroll"+elementNamespace,module.hide)),"click"==settings.on&&settings.closable&&(module.verbose("Removing close event from document"),$document.off("click"+elementNamespace))}},has:{popup:function(){return $popup&&$popup.length>0}},is:{active:function(){return $module.hasClass(className.active)},animating:function(){return $popup&&$popup.is(":animated")||$popup.hasClass(className.animating)},visible:function(){return $popup&&$popup.is(":visible")},dropdown:function(){return $module.hasClass(className.dropdown)},hidden:function(){return!module.is.visible();
},rtl:function(){return"rtl"==$module.css("direction")}},reset:function(){module.remove.visible(),settings.preserve?$.fn.transition!==undefined&&$popup.transition("remove transition"):module.removePopup()},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined&&(found=object[value],!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.popup.settings={name:"Popup",debug:!1,verbose:!0,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},variation:"",content:!1,html:!1,title:!1,on:"hover",closable:!0,hideOnScroll:"auto",exclusive:!0,context:"body",position:"top left",prefer:"opposite",lastResort:!1,delay:{show:30,hide:0},setFluidWidth:!0,movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,duration:200,easing:"easeOutQuint",transition:"scale",distanceAway:0,offset:0,maxSearchDepth:20,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"No visible position could be found for the popup",method:"The method you called is not defined."},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(string){var badChars=/[&<>"'`]/g,shouldEscape=/[&<>"'`]/,escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escapedChar=function(chr){return escape[chr]};return shouldEscape.test(string)?string.replace(badChars,escapedChar):string},popup:function(text){var html="",escape=$.fn.popup.settings.templates.escape;return typeof text!==undefined&&(typeof text.title!==undefined&&text.title&&(text.title=escape(text.title),html+='<div class="header">'+text.title+"</div>"),typeof text.content!==undefined&&text.content&&(text.content=escape(text.content),html+='<div class="content">'+text.content+"</div>")),html}}},$.extend($.easing,{easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b}})}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.progress=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var transitionEnd,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.progress.settings,parameters):$.extend({},$.fn.progress.settings),className=settings.className,metadata=settings.metadata,namespace=settings.namespace,selector=settings.selector,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$bar=$(this).find(selector.bar),$progress=$(this).find(selector.progress),$label=$(this).find(selector.label),element=this,instance=$module.data(moduleNamespace),animating=!1;module={initialize:function(){module.debug("Initializing progress bar",settings),transitionEnd=module.get.transitionEnd(),module.read.metadata(),module.set.duration(),module.set.initials(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of progress",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous progress for",$module),clearInterval(instance.interval),module.remove.state(),$module.removeData(moduleNamespace),instance=undefined},reset:function(){module.set.percent(0)},complete:function(){(module.percent===undefined||module.percent<100)&&module.set.percent(100)},read:{metadata:function(){$module.data(metadata.percent)&&(module.verbose("Current percent value set from metadata"),module.percent=$module.data(metadata.percent)),$module.data(metadata.total)&&(module.verbose("Total value set from metadata"),module.total=$module.data(metadata.total)),$module.data(metadata.value)&&(module.verbose("Current value set from metadata"),module.value=$module.data(metadata.value))},currentValue:function(){return module.value!==undefined&&module.value}},increment:function(incrementValue){var edgeValue,startValue,newValue,total=module.total||!1;total?(startValue=module.value||0,incrementValue=incrementValue||1,newValue=startValue+incrementValue,edgeValue=module.total,module.debug("Incrementing value by",incrementValue,startValue,edgeValue),newValue>edgeValue&&(module.debug("Value cannot increment above total",edgeValue),newValue=edgeValue),module.set.progress(newValue)):(startValue=module.percent||0,incrementValue=incrementValue||module.get.randomValue(),newValue=startValue+incrementValue,edgeValue=100,module.debug("Incrementing percentage by",incrementValue,startValue),newValue>edgeValue&&(module.debug("Value cannot increment above 100 percent"),newValue=edgeValue),module.set.progress(newValue))},decrement:function(decrementValue){var startValue,newValue,total=module.total||!1,edgeValue=0;total?(startValue=module.value||0,decrementValue=decrementValue||1,newValue=startValue-decrementValue,module.debug("Decrementing value by",decrementValue,startValue)):(startValue=module.percent||0,decrementValue=decrementValue||module.get.randomValue(),newValue=startValue-decrementValue,module.debug("Decrementing percentage by",decrementValue,startValue)),newValue<edgeValue&&(module.debug("Value cannot decrement below 0"),newValue=0),module.set.progress(newValue)},get:{text:function(templateText){var value=module.value||0,total=module.total||0,percent=module.is.visible()&&animating?module.get.displayPercent():module.percent||0,left=module.total>0?total-value:100-percent;return templateText=templateText||"",templateText=templateText.replace("{value}",value).replace("{total}",total).replace("{left}",left).replace("{percent}",percent),module.debug("Adding variables to progress bar text",templateText),templateText},randomValue:function(){return module.debug("Generating random increment percentage"),Math.floor(Math.random()*settings.random.max+settings.random.min)},transitionEnd:function(){var transition,element=document.createElement("element"),transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(transition in transitions)if(element.style[transition]!==undefined)return transitions[transition]},displayPercent:function(){var barWidth=$bar.width(),totalWidth=$module.width(),minDisplay=parseInt($bar.css("min-width"),10),displayPercent=barWidth>minDisplay?barWidth/totalWidth*100:module.percent;return 0===settings.precision?Math.round(displayPercent):Math.round(displayPercent*(10*settings.precision))/(10*settings.precision)},percent:function(){return module.percent||0},value:function(){return module.value||!1},total:function(){return module.total||!1}},is:{success:function(){return $module.hasClass(className.success)},warning:function(){return $module.hasClass(className.warning)},error:function(){return $module.hasClass(className.error)},active:function(){return $module.hasClass(className.active)},visible:function(){return $module.is(":visible")}},remove:{state:function(){module.verbose("Removing stored state"),delete module.total,delete module.percent,delete module.value},active:function(){module.verbose("Removing active state"),$module.removeClass(className.active)},success:function(){module.verbose("Removing success state"),$module.removeClass(className.success)},warning:function(){module.verbose("Removing warning state"),$module.removeClass(className.warning)},error:function(){module.verbose("Removing error state"),$module.removeClass(className.error)}},set:{barWidth:function(value){value>100?module.error(error.tooHigh,value):value<0?module.error(error.tooLow,value):($bar.css("width",value+"%"),$module.attr("data-percent",parseInt(value,10)))},duration:function(duration){duration=duration||settings.duration,duration="number"==typeof duration?duration+"ms":duration,module.verbose("Setting progress bar transition duration",duration),$bar.css({"-webkit-transition-duration":duration,"-moz-transition-duration":duration,"-ms-transition-duration":duration,"-o-transition-duration":duration,"transition-duration":duration})},initials:function(){settings.total!==!1&&(module.verbose("Current total set in settings",settings.total),module.total=settings.total),settings.value!==!1&&(module.verbose("Current value set in settings",settings.value),module.value=settings.value),settings.percent!==!1&&(module.verbose("Current percent set in settings",settings.percent),module.percent=settings.percent),module.percent!==undefined?module.set.percent(module.percent):module.value!==undefined&&module.set.progress(module.value)},percent:function(percent){percent="string"==typeof percent?+percent.replace("%",""):percent,percent>0&&percent<1&&(module.verbose("Module percentage passed as decimal, converting"),percent=100*percent),percent=0===settings.precision?Math.round(percent):Math.round(percent*(10*settings.precision))/(10*settings.precision),module.percent=percent,module.total?module.value=Math.round(percent/100*module.total*(10*settings.precision))/(10*settings.precision):settings.limitValues&&(module.value=module.value>100?100:module.value<0?0:module.value),module.set.barWidth(percent),module.is.visible()&&module.set.labelInterval(),module.set.labels(),settings.onChange.call(element,percent,module.value,module.total)},labelInterval:function(){var animationCallback=function(){module.verbose("Bar finished animating, removing continuous label updates"),clearInterval(module.interval),animating=!1,module.set.labels()};clearInterval(module.interval),$bar.one(transitionEnd+eventNamespace,animationCallback),module.timer=setTimeout(animationCallback,settings.duration+100),animating=!0,module.interval=setInterval(module.set.labels,settings.framerate)},labels:function(){module.verbose("Setting both bar progress and outer label text"),module.set.barLabel(),module.set.state()},label:function(text){text=text||"",text&&(text=module.get.text(text),module.debug("Setting label to text",text),$label.text(text))},state:function(percent){percent=percent!==undefined?percent:module.percent,100===percent?!settings.autoSuccess||module.is.warning()||module.is.error()?(module.verbose("Reached 100% removing active state"),module.remove.active()):(module.set.success(),module.debug("Automatically triggering success at 100%")):percent>0?(module.verbose("Adjusting active progress bar label",percent),module.set.active()):(module.remove.active(),module.set.label(settings.text.active))},barLabel:function(text){text!==undefined?$progress.text(module.get.text(text)):"ratio"==settings.label&&module.total?(module.debug("Adding ratio to bar label"),$progress.text(module.get.text(settings.text.ratio))):"percent"==settings.label&&(module.debug("Adding percentage to bar label"),$progress.text(module.get.text(settings.text.percent)))},active:function(text){text=text||settings.text.active,module.debug("Setting active state"),settings.showActivity&&!module.is.active()&&$module.addClass(className.active),module.remove.warning(),module.remove.error(),module.remove.success(),text&&module.set.label(text),settings.onActive.call(element,module.value,module.total)},success:function(text){text=text||settings.text.success,module.debug("Setting success state"),$module.addClass(className.success),module.remove.active(),module.remove.warning(),module.remove.error(),module.complete(),text&&module.set.label(text),settings.onSuccess.call(element,module.total)},warning:function(text){text=text||settings.text.warning,module.debug("Setting warning state"),$module.addClass(className.warning),module.remove.active(),module.remove.success(),module.remove.error(),module.complete(),text&&module.set.label(text),settings.onWarning.call(element,module.value,module.total)},error:function(text){text=text||settings.text.error,module.debug("Setting error state"),$module.addClass(className.error),module.remove.active(),module.remove.success(),module.remove.warning(),module.complete(),text&&module.set.label(text),settings.onError.call(element,module.value,module.total)},total:function(totalValue){module.total=totalValue},progress:function(value){var percentComplete,numericValue="string"==typeof value?""!==value.replace(/[^\d.]/g,"")&&+value.replace(/[^\d.]/g,""):value;numericValue===!1&&module.error(error.nonNumeric,value),module.total?(module.value=numericValue,percentComplete=numericValue/module.total*100,module.debug("Calculating percent complete from total",percentComplete),module.set.percent(percentComplete)):(percentComplete=numericValue,module.debug("Setting value to exact percentage value",percentComplete),module.set.percent(percentComplete))}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.progress.settings={name:"Progress",namespace:"progress",debug:!1,verbose:!0,performance:!0,random:{min:2,max:5},duration:300,autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:1,framerate:1e3/30,percent:!1,total:!1,value:!1,onChange:function(percent,value,total){},onSuccess:function(total){},onActive:function(value,total){},onError:function(value,total){},onWarning:function(value,total){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.rating=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.rating.settings,parameters):$.extend({},$.fn.rating.settings),namespace=settings.namespace,className=settings.className,metadata=settings.metadata,selector=settings.selector,eventNamespace=(settings.error,"."+namespace),moduleNamespace="module-"+namespace,element=this,instance=$(this).data(moduleNamespace),$module=$(this),$icon=$module.find(selector.icon);module={initialize:function(){module.verbose("Initializing rating module",settings),0===$icon.length&&module.setup.layout(),settings.interactive?module.enable():module.disable(),settings.initialRating&&(module.debug("Setting initial rating"),module.setRating(settings.initialRating)),$module.data(metadata.rating)&&(module.debug("Rating found in metadata"),module.setRating($module.data(metadata.rating))),module.instantiate()},instantiate:function(){module.verbose("Instantiating module",settings),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous instance",instance),$module.removeData(moduleNamespace),$icon.off(eventNamespace)},refresh:function(){$icon=$module.find(selector.icon)},setup:{layout:function(){var maxRating=$module.data(metadata.maxRating)||settings.maxRating;module.debug("Generating icon html dynamically"),$module.html($.fn.rating.settings.templates.icon(maxRating)),module.refresh()}},event:{mouseenter:function(){var $activeIcon=$(this);$activeIcon.nextAll().removeClass(className.selected),$module.addClass(className.selected),$activeIcon.addClass(className.selected).prevAll().addClass(className.selected)},mouseleave:function(){$module.removeClass(className.selected),$icon.removeClass(className.selected)},click:function(){var $activeIcon=$(this),currentRating=module.getRating(),rating=$icon.index($activeIcon)+1,canClear="auto"==settings.clearable?1===$icon.length:settings.clearable;canClear&&currentRating==rating?module.clearRating():module.setRating(rating)}},clearRating:function(){module.debug("Clearing current rating"),module.setRating(0)},getRating:function(){var currentRating=$icon.filter("."+className.active).length;return module.verbose("Current rating retrieved",currentRating),currentRating},enable:function(){module.debug("Setting rating to interactive mode"),$icon.on("mouseenter"+eventNamespace,module.event.mouseenter).on("mouseleave"+eventNamespace,module.event.mouseleave).on("click"+eventNamespace,module.event.click),$module.removeClass(className.disabled)},disable:function(){module.debug("Setting rating to read-only mode"),$icon.off(eventNamespace),$module.addClass(className.disabled)},setRating:function(rating){var ratingIndex=rating-1>=0?rating-1:0,$activeIcon=$icon.eq(ratingIndex);$module.removeClass(className.selected),$icon.removeClass(className.selected).removeClass(className.active),rating>0&&(module.verbose("Setting current rating to",rating),$activeIcon.prevAll().andSelf().addClass(className.active)),settings.onRate.call(element,rating)},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined&&(found=object[value],!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.rating.settings={name:"Rating",namespace:"rating",debug:!1,verbose:!0,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",onRate:function(rating){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(maxRating){for(var icon=1,html="";icon<=maxRating;)html+='<i class="icon"></i>',icon++;return html}}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.search=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $(this).each(function(){var module,settings=$.extend(!0,{},$.fn.search.settings,parameters),className=settings.className,metadata=settings.metadata,regExp=settings.regExp,selector=settings.selector,error=settings.error,namespace=settings.namespace,eventNamespace="."+namespace,moduleNamespace=namespace+"-module",$module=$(this),$prompt=$module.find(selector.prompt),$searchButton=$module.find(selector.searchButton),$results=$module.find(selector.results),element=($module.find(selector.result),$module.find(selector.category),this),instance=$module.data(moduleNamespace);module={initialize:function(){module.verbose("Initializing module");var prompt=$prompt[0],inputEvent=prompt!==undefined&&prompt.oninput!==undefined?"input":prompt!==undefined&&prompt.onpropertychange!==undefined?"propertychange":"keyup";settings.automatic&&$prompt.on(inputEvent+eventNamespace,module.throttle).attr("autocomplete","off"),$prompt.on("focus"+eventNamespace,module.event.focus).on("blur"+eventNamespace,module.event.blur).on("keydown"+eventNamespace,module.handleKeyboard),$searchButton.on("click"+eventNamespace,module.query),$results.on("mousedown"+eventNamespace,module.event.result.mousedown).on("mouseup"+eventNamespace,module.event.result.mouseup).on("click"+eventNamespace,selector.result,module.event.result.click),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying instance"),$module.removeData(moduleNamespace),$prompt.off(eventNamespace),$searchButton.off(eventNamespace),$results.off(eventNamespace)},event:{focus:function(){module.set.focus(),clearTimeout(module.timer),module.throttle(),module.has.minimumCharacters()&&module.showResults()},blur:function(event){var pageLostFocus=document.activeElement===this;pageLostFocus||module.resultsClicked||(module.cancel.query(),module.remove.focus(),module.timer=setTimeout(module.hideResults,settings.hideDelay))},result:{mousedown:function(){module.resultsClicked=!0},mouseup:function(){module.resultsClicked=!1},click:function(event){module.debug("Search result selected");var $result=$(this),$title=$result.find(selector.title).eq(0),$link=$result.find("a[href]").eq(0),href=$link.attr("href")||!1,target=$link.attr("target")||!1,name=($title.html(),$title.length>0&&$title.text()),results=module.get.results(),result=module.get.result(name,results);return $.isFunction(settings.onSelect)&&settings.onSelect.call(element,result,results)===!1?void module.debug("Custom onSelect callback cancelled default select action"):(module.hideResults(),name&&module.set.value(name),void(href&&(module.verbose("Opening search link found in result",$link),"_blank"==target||event.ctrlKey?window.open(href):window.location.href=href)))}}},handleKeyboard:function(event){var newIndex,$result=$module.find(selector.result),$category=$module.find(selector.category),currentIndex=$result.index($result.filter("."+className.active)),resultSize=$result.length,keyCode=event.which,keys={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(keyCode==keys.escape&&(module.verbose("Escape key pressed, blurring search field"),$prompt.trigger("blur")),module.is.visible())if(keyCode==keys.enter){if(module.verbose("Enter key pressed, selecting active result"),$result.filter("."+className.active).length>0)return module.event.result.click.call($result.filter("."+className.active),event),event.preventDefault(),!1}else keyCode==keys.upArrow?(module.verbose("Up key pressed, changing active result"),newIndex=currentIndex-1<0?currentIndex:currentIndex-1,$category.removeClass(className.active),$result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active),event.preventDefault()):keyCode==keys.downArrow&&(module.verbose("Down key pressed, changing active result"),newIndex=currentIndex+1>=resultSize?currentIndex:currentIndex+1,$category.removeClass(className.active),$result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active),event.preventDefault());else keyCode==keys.enter&&(module.verbose("Enter key pressed, executing query"),module.query(),module.set.buttonPressed(),$prompt.one("keyup",module.remove.buttonFocus))},setup:{api:function(){var apiSettings={on:!1,action:"search",onFailure:module.error};module.verbose("First request, initializing API"),$module.api(apiSettings)}},can:{useAPI:function(){return $.fn.api!==undefined},transition:function(){return settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported");
}},is:{empty:function(){return""===$results.html()},visible:function(){return $results.filter(":visible").length>0},focused:function(){return $prompt.filter(":focus").length>0}},get:{value:function(){return $prompt.val()},results:function(){var results=$module.data(metadata.results);return results},result:function(value,results){var result=!1;return value=value||module.get.value(),results=results||module.get.results(),"category"===settings.type?(module.debug("Finding result that matches",value),$.each(results,function(index,category){if($.isArray(category.results)&&(result=module.search.object(value,category.results)[0],result&&result.length>0))return!0})):(module.debug("Finding result in results object",value),result=module.search.object(value,results)[0]),result}},set:{focus:function(){$module.addClass(className.focus)},loading:function(){$module.addClass(className.loading)},value:function(value){module.verbose("Setting search input value",value),$prompt.val(value),module.query()},buttonPressed:function(){$searchButton.addClass(className.pressed)}},remove:{loading:function(){$module.removeClass(className.loading)},focus:function(){$module.removeClass(className.focus)},buttonPressed:function(){$searchButton.removeClass(className.pressed)}},query:function(){var searchTerm=module.get.value(),cache=module.read.cache(searchTerm);cache?(module.debug("Reading result for "+searchTerm+" from cache"),module.save.results(cache.results),module.addResults(cache.html)):(module.debug("Querying for "+searchTerm),$.isPlainObject(settings.source)||$.isArray(settings.source)?module.search.local(searchTerm):module.can.useAPI()?settings.apiSettings?(module.debug("Searching with specified API settings",settings.apiSettings),module.search.remote(searchTerm)):$.api.settings.api.search!==undefined?(module.debug("Searching with default search API endpoint"),module.search.remote(searchTerm)):module.error(error.noEndpoint):module.error(error.source),settings.onSearchQuery.call(element,searchTerm))},search:{local:function(searchTerm){var searchHTML,searchResults=module.search.object(searchTerm,settings.content);module.set.loading(),module.save.results(searchResults),module.debug("Returned local search results",searchResults),searchHTML=module.generateResults({results:searchResults}),module.remove.loading(),module.write.cache(searchTerm,{html:searchHTML,results:searchResults}),module.addResults(searchHTML)},remote:function(searchTerm){var apiSettings={onSuccess:function(response){module.parse.response.call(element,response,searchTerm)},urlData:{query:searchTerm}};$module.api("get request")||module.setup.api(),$.extend(!0,apiSettings,settings.apiSettings),module.debug("Executing search",apiSettings),module.cancel.query(),$module.api("setting",apiSettings).api("query")},object:function(searchTerm,source){var results=[],fullTextResults=[],searchFields=$.isArray(settings.searchFields)?settings.searchFields:[settings.searchFields],searchExp=searchTerm.replace(regExp.escape,"\\$&"),searchRegExp=new RegExp(regExp.exact+searchExp,"i");return source=source||settings.source,source===undefined?(module.error(error.source),[]):($.each(searchFields,function(index,field){$.each(source,function(label,content){var fieldExists="string"==typeof content[field],notAlreadyResult=$.inArray(content,results)==-1&&$.inArray(content,fullTextResults)==-1;fieldExists&&notAlreadyResult&&(content[field].match(searchRegExp)?results.push(content):settings.searchFullText&&module.fuzzySearch(searchTerm,content[field])&&fullTextResults.push(content))})}),$.merge(results,fullTextResults))}},fuzzySearch:function(query,term){var termLength=term.length,queryLength=query.length;if(query=query.toLowerCase(),term=term.toLowerCase(),queryLength>termLength)return!1;if(queryLength===termLength)return query===term;search:for(var characterIndex=0,nextCharacterIndex=0;characterIndex<queryLength;characterIndex++){for(var queryCharacter=query.charCodeAt(characterIndex);nextCharacterIndex<termLength;)if(term.charCodeAt(nextCharacterIndex++)===queryCharacter)continue search;return!1}return!0},parse:{response:function(response,searchTerm){var searchHTML=module.generateResults(response);module.verbose("Parsing server response",response),response!==undefined&&searchTerm!==undefined&&response.results!==undefined&&(module.write.cache(searchTerm,{html:searchHTML,results:response.results}),module.save.results(response.results),module.addResults(searchHTML))}},throttle:function(){clearTimeout(module.timer),module.has.minimumCharacters()?module.timer=setTimeout(module.query,settings.searchDelay):module.hideResults()},cancel:{query:function(){module.can.useAPI()&&$module.api("abort")}},has:{minimumCharacters:function(){var searchTerm=module.get.value(),numCharacters=searchTerm.length;return numCharacters>=settings.minCharacters}},read:{cache:function(name){var cache=$module.data(metadata.cache);return!!settings.cache&&(module.verbose("Checking cache for generated html for query",name),"object"==typeof cache&&cache[name]!==undefined&&cache[name])}},save:{results:function(results){module.verbose("Saving current search results to metadata",results),$module.data(metadata.results,results)}},write:{cache:function(name,value){var cache=$module.data(metadata.cache)!==undefined?$module.data(metadata.cache):{};settings.cache&&(module.verbose("Writing generated html to cache",name,value),cache[name]=value,$module.data(metadata.cache,cache))}},addResults:function(html){return $.isFunction(settings.onResultsAdd)&&settings.onResultsAdd.call($results,html)===!1?(module.debug("onResultsAdd callback cancelled default action"),!1):($results.html(html),void module.showResults())},showResults:function(){module.is.visible()||!module.is.focused()||module.is.empty()||(module.can.transition()?(module.debug("Showing results with css animations"),$results.transition({animation:settings.transition+" in",duration:settings.duration,queue:!0})):(module.debug("Showing results with javascript"),$results.stop().fadeIn(settings.duration,settings.easing)),settings.onResultsOpen.call($results))},hideResults:function(){module.is.visible()&&(module.can.transition()?(module.debug("Hiding results with css animations"),$results.transition({animation:settings.transition+" out",duration:settings.duration,queue:!0})):(module.debug("Hiding results with javascript"),$results.stop().fadeOut(settings.duration,settings.easing)),settings.onResultsClose.call($results))},generateResults:function(response){module.debug("Generating html from response",response);var template=settings.templates[settings.type],isProperObject=$.isPlainObject(response.results)&&!$.isEmptyObject(response.results),isProperArray=$.isArray(response.results)&&response.results.length>0,html="";return isProperObject||isProperArray?(settings.maxResults>0&&(isProperObject?"standard"==settings.type&&module.error(error.maxResults):response.results=response.results.slice(0,settings.maxResults)),$.isFunction(template)?html=template(response):module.error(error.noTemplate,!1)):html=module.displayMessage(error.noResults,"empty"),settings.onResults.call(element,response),html},displayMessage:function(text,type){return type=type||"standard",module.debug("Displaying message",text,type),module.addResults(settings.templates.message(text,type)),settings.templates.message(text,type)},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined&&(found=object[value],!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.search.settings={name:"Search Module",namespace:"search",debug:!1,verbose:!0,performance:!0,type:"standard",minCharacters:1,apiSettings:!1,source:!1,searchFields:["title","description"],searchFullText:!0,automatic:"true",hideDelay:0,searchDelay:100,maxResults:7,cache:!0,transition:"scale",duration:300,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(){},onResults:function(response){},onResultsOpen:function(){},onResultsClose:function(){},className:{active:"active",empty:"empty",focus:"focus",loading:"loading",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue with querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,exact:"(?:s|^)"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result",title:".title, .name"},templates:{escape:function(string){var badChars=/[&<>"'`]/g,shouldEscape=/[&<>"'`]/,escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escapedChar=function(chr){return escape[chr]};return shouldEscape.test(string)?string.replace(badChars,escapedChar):string},message:function(message,type){var html="";return message!==undefined&&type!==undefined&&(html+='<div class="message '+type+'">',html+="empty"==type?'<div class="header">No Results</div class="header"><div class="description">'+message+'</div class="description">':' <div class="description">'+message+"</div>",html+="</div>"),html},category:function(response){var html="",escape=$.fn.search.settings.templates.escape;return response.results!==undefined&&($.each(response.results,function(index,category){category.results!==undefined&&category.results.length>0&&(html+='<div class="category"><div class="name">'+category.name+"</div>",$.each(category.results,function(index,result){html+='<div class="result">',result.url&&(html+='<a href="'+result.url+'"></a>'),result.image!==undefined&&(result.image=escape(result.image),html+='<div class="image"> <img src="'+result.image+'" alt=""></div>'),html+='<div class="content">',result.price!==undefined&&(result.price=escape(result.price),html+='<div class="price">'+result.price+"</div>"),result.title!==undefined&&(result.title=escape(result.title),html+='<div class="title">'+result.title+"</div>"),result.description!==undefined&&(html+='<div class="description">'+result.description+"</div>"),html+="</div></div>"}),html+="</div>")}),response.action&&(html+='<a href="'+response.action.url+'" class="action">'+response.action.text+"</a>"),html)},standard:function(response){var html="";return response.results!==undefined&&($.each(response.results,function(index,result){html+=result.url?'<a class="result" href="'+result.url+'">':'<a class="result">',result.image!==undefined&&(html+='<div class="image"> <img src="'+result.image+'"></div>'),html+='<div class="content">',result.price!==undefined&&(html+='<div class="price">'+result.price+"</div>"),result.title!==undefined&&(html+='<div class="title">'+result.title+"</div>"),result.description!==undefined&&(html+='<div class="description">'+result.description+"</div>"),html+="</div>",html+="</a>"}),response.action&&(html+='<a href="'+response.action.url+'" class="action">'+response.action.text+"</a>"),html)}}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.shape=function(parameters){var returnedValue,$allModules=$(this),time=($("body"),(new Date).getTime()),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)};return $allModules.each(function(){var $activeSide,$nextSide,module,moduleSelector=$allModules.selector||"",settings=$.extend(!0,{},$.fn.shape.settings,parameters),namespace=settings.namespace,selector=settings.selector,error=settings.error,className=settings.className,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$sides=$module.find(selector.sides),$side=$module.find(selector.side),nextIndex=!1,element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.verbose("Initializing module for",element),module.set.defaultSide(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,instance)},destroy:function(){module.verbose("Destroying previous module for",element),$module.removeData(moduleNamespace).off(eventNamespace)},refresh:function(){module.verbose("Refreshing selector cache for",element),$module=$(element),$sides=$(this).find(selector.shape),$side=$(this).find(selector.side)},repaint:function(){module.verbose("Forcing repaint event");var shape=$sides.get(0)||document.createElement("div");shape.offsetWidth},animate:function(propertyObject,callback){module.verbose("Animating box with properties",propertyObject),callback=callback||function(event){module.verbose("Executing animation callback"),event!==undefined&&event.stopPropagation(),module.reset(),module.set.active()},settings.beforeChange.call($nextSide.get()),module.get.transitionEvent()?(module.verbose("Starting CSS animation"),$module.addClass(className.animating),$sides.css(propertyObject).one(module.get.transitionEvent(),callback),module.set.duration(settings.duration),requestAnimationFrame(function(){$module.addClass(className.animating),$activeSide.addClass(className.hidden)})):callback()},queue:function(method){module.debug("Queueing animation of",method),$sides.one(module.get.transitionEvent(),function(){module.debug("Executing queued animation"),setTimeout(function(){$module.shape(method)},0)})},reset:function(){module.verbose("Animating states reset"),$module.removeClass(className.animating).attr("style","").removeAttr("style"),$sides.attr("style","").removeAttr("style"),$side.attr("style","").removeAttr("style").removeClass(className.hidden),$nextSide.removeClass(className.animating).attr("style","").removeAttr("style")},is:{complete:function(){return $side.filter("."+className.active)[0]==$nextSide[0]},animating:function(){return $module.hasClass(className.animating)}},set:{defaultSide:function(){$activeSide=$module.find("."+settings.className.active),$nextSide=$activeSide.next(selector.side).length>0?$activeSide.next(selector.side):$module.find(selector.side).first(),nextIndex=!1,module.verbose("Active side set to",$activeSide),module.verbose("Next side set to",$nextSide)},duration:function(duration){duration=duration||settings.duration,duration="number"==typeof duration?duration+"ms":duration,module.verbose("Setting animation duration",duration),$sides.add($side).css({"-webkit-transition-duration":duration,"-moz-transition-duration":duration,"-ms-transition-duration":duration,"-o-transition-duration":duration,"transition-duration":duration})},stageSize:function(){var $clone=$module.clone().addClass(className.loading),$activeSide=$clone.find("."+settings.className.active),$nextSide=nextIndex?$clone.find(selector.side).eq(nextIndex):$activeSide.next(selector.side).length>0?$activeSide.next(selector.side):$clone.find(selector.side).first(),newSize={};$activeSide.removeClass(className.active),$nextSide.addClass(className.active),$clone.insertAfter($module),newSize={width:$nextSide.outerWidth(),height:$nextSide.outerHeight()},$clone.remove(),$module.css(newSize),module.verbose("Resizing stage to fit new content",newSize)},nextSide:function(selector){nextIndex=selector,$nextSide=$side.filter(selector),nextIndex=$side.index($nextSide),0===$nextSide.length&&(module.set.defaultSide(),module.error(error.side)),module.verbose("Next side manually set to",$nextSide)},active:function(){module.verbose("Setting new side to active",$nextSide),$side.removeClass(className.active),$nextSide.addClass(className.active),settings.onChange.call($nextSide.get()),module.set.defaultSide()}},flip:{up:function(){return!module.is.complete()||module.is.animating()||settings.allowRepeats?void(module.is.animating()?module.queue("flip up"):(module.debug("Flipping up",$nextSide),module.set.stageSize(),module.stage.above(),module.animate(module.get.transform.up()))):void module.debug("Side already visible",$nextSide)},down:function(){return!module.is.complete()||module.is.animating()||settings.allowRepeats?void(module.is.animating()?module.queue("flip down"):(module.debug("Flipping down",$nextSide),module.set.stageSize(),module.stage.below(),module.animate(module.get.transform.down()))):void module.debug("Side already visible",$nextSide)},left:function(){return!module.is.complete()||module.is.animating()||settings.allowRepeats?void(module.is.animating()?module.queue("flip left"):(module.debug("Flipping left",$nextSide),module.set.stageSize(),module.stage.left(),module.animate(module.get.transform.left()))):void module.debug("Side already visible",$nextSide)},right:function(){return!module.is.complete()||module.is.animating()||settings.allowRepeats?void(module.is.animating()?module.queue("flip right"):(module.debug("Flipping right",$nextSide),module.set.stageSize(),module.stage.right(),module.animate(module.get.transform.right()))):void module.debug("Side already visible",$nextSide)},over:function(){return!module.is.complete()||module.is.animating()||settings.allowRepeats?void(module.is.animating()?module.queue("flip over"):(module.debug("Flipping over",$nextSide),module.set.stageSize(),module.stage.behind(),module.animate(module.get.transform.over()))):void module.debug("Side already visible",$nextSide)},back:function(){return!module.is.complete()||module.is.animating()||settings.allowRepeats?void(module.is.animating()?module.queue("flip back"):(module.debug("Flipping back",$nextSide),module.set.stageSize(),module.stage.behind(),module.animate(module.get.transform.back()))):void module.debug("Side already visible",$nextSide)}},get:{transform:{up:function(){var translate={y:-(($activeSide.outerHeight()-$nextSide.outerHeight())/2),z:-($activeSide.outerHeight()/2)};return{transform:"translateY("+translate.y+"px) translateZ("+translate.z+"px) rotateX(-90deg)"}},down:function(){var translate={y:-(($activeSide.outerHeight()-$nextSide.outerHeight())/2),z:-($activeSide.outerHeight()/2)};return{transform:"translateY("+translate.y+"px) translateZ("+translate.z+"px) rotateX(90deg)"}},left:function(){var translate={x:-(($activeSide.outerWidth()-$nextSide.outerWidth())/2),z:-($activeSide.outerWidth()/2)};return{transform:"translateX("+translate.x+"px) translateZ("+translate.z+"px) rotateY(90deg)"}},right:function(){var translate={x:-(($activeSide.outerWidth()-$nextSide.outerWidth())/2),z:-($activeSide.outerWidth()/2)};return{transform:"translateX("+translate.x+"px) translateZ("+translate.z+"px) rotateY(-90deg)"}},over:function(){var translate={x:-(($activeSide.outerWidth()-$nextSide.outerWidth())/2)};return{transform:"translateX("+translate.x+"px) rotateY(180deg)"}},back:function(){var translate={x:-(($activeSide.outerWidth()-$nextSide.outerWidth())/2)};return{transform:"translateX("+translate.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var transition,element=document.createElement("element"),transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(transition in transitions)if(element.style[transition]!==undefined)return transitions[transition]},nextSide:function(){return $activeSide.next(selector.side).length>0?$activeSide.next(selector.side):$module.find(selector.side).first()}},stage:{above:function(){var box={origin:($activeSide.outerHeight()-$nextSide.outerHeight())/2,depth:{active:$nextSide.outerHeight()/2,next:$activeSide.outerHeight()/2}};module.verbose("Setting the initial animation position as above",$nextSide,box),$activeSide.css({transform:"rotateY(0deg) translateZ("+box.depth.active+"px)"}),$nextSide.addClass(className.animating).css({display:"block",top:box.origin+"px",transform:"rotateX(90deg) translateZ("+box.depth.next+"px)"})},below:function(){var box={origin:($activeSide.outerHeight()-$nextSide.outerHeight())/2,depth:{active:$nextSide.outerHeight()/2,next:$activeSide.outerHeight()/2}};module.verbose("Setting the initial animation position as below",$nextSide,box),$activeSide.css({transform:"rotateY(0deg) translateZ("+box.depth.active+"px)"}),$nextSide.addClass(className.animating).css({display:"block",top:box.origin+"px",transform:"rotateX(-90deg) translateZ("+box.depth.next+"px)"})},left:function(){var box={origin:($activeSide.outerWidth()-$nextSide.outerWidth())/2,depth:{active:$nextSide.outerWidth()/2,next:$activeSide.outerWidth()/2}};module.verbose("Setting the initial animation position as left",$nextSide,box),$activeSide.css({transform:"rotateY(0deg) translateZ("+box.depth.active+"px)"}),$nextSide.addClass(className.animating).css({display:"block",left:box.origin+"px",transform:"rotateY(-90deg) translateZ("+box.depth.next+"px)"})},right:function(){var box={origin:($activeSide.outerWidth()-$nextSide.outerWidth())/2,depth:{active:$nextSide.outerWidth()/2,next:$activeSide.outerWidth()/2}};module.verbose("Setting the initial animation position as left",$nextSide,box),$activeSide.css({transform:"rotateY(0deg) translateZ("+box.depth.active+"px)"}),$nextSide.addClass(className.animating).css({display:"block",left:box.origin+"px",transform:"rotateY(90deg) translateZ("+box.depth.next+"px)"})},behind:function(){var box={origin:($activeSide.outerWidth()-$nextSide.outerWidth())/2,depth:{active:$nextSide.outerWidth()/2,next:$activeSide.outerWidth()/2}};module.verbose("Setting the initial animation position as behind",$nextSide,box),$activeSide.css({transform:"rotateY(0deg)"}),$nextSide.addClass(className.animating).css({display:"block",left:box.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined&&(found=object[value],!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.shape.settings={name:"Shape",debug:!1,verbose:!0,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:700,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.sidebar=function(parameters){var returnedValue,$allModules=$(this),$window=$(window),$document=$(document),$html=$("html"),$head=$("head"),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)};return $allModules.each(function(){var $style,elementNamespace,id,currentScroll,transitionEvent,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.sidebar.settings,parameters):$.extend({},$.fn.sidebar.settings),selector=settings.selector,className=settings.className,namespace=settings.namespace,regExp=settings.regExp,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$context=$(settings.context),$sidebars=$module.children(selector.sidebar),$fixed=$context.children(selector.fixed),$pusher=$context.children(selector.pusher),element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing sidebar",parameters),module.create.id(),transitionEvent=module.get.transitionEvent(),("auto"==settings.useLegacy&&module.is.legacy()||settings.useLegacy===!0)&&(settings.transition="overlay",settings.useLegacy=!0),module.is.ios()&&module.set.ios(),settings.delaySetup?requestAnimationFrame(module.setup.layout):module.setup.layout(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},create:{id:function(){id=(Math.random().toString(16)+"000000000").substr(2,8),elementNamespace="."+id,module.verbose("Creating unique id for element",id)}},destroy:function(){module.verbose("Destroying previous module for",$module),module.remove.direction(),$module.off(eventNamespace).removeData(moduleNamespace),$context.off(elementNamespace),$window.off(elementNamespace),$document.off(elementNamespace)},event:{clickaway:function(event){var clickedInPusher=$pusher.find(event.target).length>0||$pusher.is(event.target),clickedContext=$context.is(event.target);clickedInPusher&&(module.verbose("User clicked on dimmed page"),module.hide()),clickedContext&&(module.verbose("User clicked on dimmable context (scaled out page)"),module.hide())},touch:function(event){},containScroll:function(event){element.scrollTop<=0&&(element.scrollTop=1),element.scrollTop+element.offsetHeight>=element.scrollHeight&&(element.scrollTop=element.scrollHeight-element.offsetHeight-1)},scroll:function(event){0===$(event.target).closest(selector.sidebar).length&&event.preventDefault()}},bind:{clickaway:function(){module.verbose("Adding clickaway events to context",$context),settings.closable&&$context.on("click"+elementNamespace,module.event.clickaway).on("touchend"+elementNamespace,module.event.clickaway)},scrollLock:function(){settings.scrollLock&&(module.debug("Disabling page scroll"),$window.on("DOMMouseScroll"+elementNamespace,module.event.scroll)),module.verbose("Adding events to contain sidebar scroll"),$document.on("touchmove"+elementNamespace,module.event.touch),$module.on("scroll"+eventNamespace,module.event.containScroll)}},unbind:{clickaway:function(){module.verbose("Removing clickaway events from context",$context),$context.off(elementNamespace)},scrollLock:function(){module.verbose("Removing scroll lock from page"),$document.off(elementNamespace),
$window.off(elementNamespace),$module.off("scroll"+eventNamespace)}},add:{bodyCSS:function(){var style,width=$module.outerWidth(),height=$module.outerHeight(),direction=module.get.direction(),distance={left:width,right:-width,top:height,bottom:-height};module.is.rtl()&&(module.verbose("RTL detected, flipping widths"),distance.left=-width,distance.right=width),style='<style title="'+namespace+'">',"left"===direction||"right"===direction?(module.debug("Adding CSS rules for animation distance",width),style+=" .ui.visible."+direction+".sidebar ~ .fixed, .ui.visible."+direction+".sidebar ~ .pusher {   -webkit-transform: translate3d("+distance[direction]+"px, 0, 0);           transform: translate3d("+distance[direction]+"px, 0, 0); }"):"top"!==direction&&"bottom"!=direction||(style+=" .ui.visible."+direction+".sidebar ~ .fixed, .ui.visible."+direction+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+distance[direction]+"px, 0);           transform: translate3d(0, "+distance[direction]+"px, 0); }"),module.is.ie()&&("left"===direction||"right"===direction?(module.debug("Adding CSS rules for animation distance",width),style+=" body.pushable > .ui.visible."+direction+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+distance[direction]+"px, 0, 0);           transform: translate3d("+distance[direction]+"px, 0, 0); }"):"top"!==direction&&"bottom"!=direction||(style+=" body.pushable > .ui.visible."+direction+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+distance[direction]+"px, 0);           transform: translate3d(0, "+distance[direction]+"px, 0); }"),style+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),style+="</style>",$head.append(style),$style=$("style[title="+namespace+"]"),module.debug("Adding sizing css to head",$style)}},refresh:function(){module.verbose("Refreshing selector cache"),$context=$(settings.context),$sidebars=$context.children(selector.sidebar),$pusher=$context.children(selector.pusher),$fixed=$context.children(selector.fixed)},refreshSidebars:function(){module.verbose("Refreshing other sidebars"),$sidebars=$context.children(selector.sidebar)},repaint:function(){module.verbose("Forcing repaint event"),element.style.display="none",element.offsetHeight,element.scrollTop=element.scrollTop,element.style.display=""},setup:{layout:function(){0===$context.children(selector.pusher).length&&(module.debug("Adding wrapper element for sidebar"),module.error(error.pusher),$pusher=$('<div class="pusher" />'),$context.children().not(selector.omitted).not($sidebars).wrapAll($pusher),module.refresh()),0!==$module.nextAll(selector.pusher).length&&$module.nextAll(selector.pusher)[0]===$pusher[0]||(module.debug("Moved sidebar to correct parent element"),module.error(error.movedSidebar,element),$module.detach().prependTo($context),module.refresh()),module.set.pushable(),module.set.direction()}},attachEvents:function(selector,event){var $toggle=$(selector);event=$.isFunction(module[event])?module[event]:module.toggle,$toggle.length>0?(module.debug("Attaching sidebar events to element",selector,event),$toggle.on("click"+eventNamespace,event)):module.error(error.notFound,selector)},show:function(callback){var animateMethod=settings.useLegacy===!0?module.legacyPushPage:module.pushPage;if(callback=$.isFunction(callback)?callback:function(){},module.is.hidden()){if(module.refreshSidebars(),settings.overlay&&(module.error(error.overlay),settings.transition="overlay"),module.refresh(),module.othersActive())if(module.debug("Other sidebars currently visible"),settings.exclusive){if("overlay"!=settings.transition)return void module.hideOthers(module.show);module.hideOthers()}else settings.transition="overlay";animateMethod(function(){callback.call(element),settings.onShow.call(element)}),settings.onChange.call(element),settings.onVisible.call(element)}else module.debug("Sidebar is already visible")},hide:function(callback){var animateMethod=settings.useLegacy===!0?module.legacyPullPage:module.pullPage;callback=$.isFunction(callback)?callback:function(){},(module.is.visible()||module.is.animating())&&(module.debug("Hiding sidebar",callback),module.refreshSidebars(),animateMethod(function(){callback.call(element),settings.onHidden.call(element)}),settings.onChange.call(element),settings.onHide.call(element))},othersAnimating:function(){return $sidebars.not($module).filter("."+className.animating).length>0},othersVisible:function(){return $sidebars.not($module).filter("."+className.visible).length>0},othersActive:function(){return module.othersVisible()||module.othersAnimating()},hideOthers:function(callback){var $otherSidebars=$sidebars.not($module).filter("."+className.visible),sidebarCount=$otherSidebars.length,callbackCount=0;callback=callback||function(){},$otherSidebars.sidebar("hide",function(){callbackCount++,callbackCount==sidebarCount&&callback()})},toggle:function(){module.verbose("Determining toggled direction"),module.is.hidden()?module.show():module.hide()},pushPage:function(callback){var animate,transitionEnd,transition=module.get.transition(),$transition="safe"==transition?$context:"overlay"===transition||module.othersActive()?$module:$pusher;callback=$.isFunction(callback)?callback:function(){},"scale down"==settings.transition&&module.scrollToTop(),module.set.transition(transition),module.repaint(),animate=function(){module.bind.clickaway(),module.add.bodyCSS(),module.set.animating(),module.set.visible(),module.othersVisible()||settings.dimPage&&$pusher.addClass(className.dimmed)},transitionEnd=function(event){event.target==$transition[0]&&($transition.off(transitionEvent+elementNamespace,transitionEnd),module.remove.animating(),module.bind.scrollLock(),callback.call(element))},$transition.off(transitionEvent+elementNamespace),$transition.on(transitionEvent+elementNamespace,transitionEnd),requestAnimationFrame(animate)},pullPage:function(callback){var animate,transitionEnd,transition=module.get.transition(),$transition="safe"==transition?$context:"overlay"==transition||module.othersActive()?$module:$pusher;callback=$.isFunction(callback)?callback:function(){},module.verbose("Removing context push state",module.get.direction()),module.set.transition(transition),module.unbind.clickaway(),module.unbind.scrollLock(),animate=function(){module.set.animating(),module.remove.visible(),settings.dimPage&&!module.othersVisible()&&$pusher.removeClass(className.dimmed)},transitionEnd=function(event){event.target==$transition[0]&&($transition.off(transitionEvent+elementNamespace,transitionEnd),module.remove.animating(),module.remove.transition(),module.remove.bodyCSS(),("scale down"==transition||settings.returnScroll&&module.is.mobile())&&module.scrollBack(),callback.call(element))},$transition.off(transitionEvent+elementNamespace),$transition.on(transitionEvent+elementNamespace,transitionEnd),requestAnimationFrame(animate)},legacyPushPage:function(callback){var distance=$module.width(),direction=module.get.direction(),properties={};distance=distance||$module.width(),callback=$.isFunction(callback)?callback:function(){},properties[direction]=distance,module.debug("Using javascript to push context",properties),module.set.visible(),module.set.transition(),module.set.animating(),settings.dimPage&&$pusher.addClass(className.dimmed),$context.css("position","relative").animate(properties,settings.duration,settings.easing,function(){module.remove.animating(),module.bind.clickaway(),callback.call(element)})},legacyPullPage:function(callback){var distance=0,direction=module.get.direction(),properties={};distance=distance||$module.width(),callback=$.isFunction(callback)?callback:function(){},properties[direction]="0px",module.debug("Using javascript to pull context",properties),module.unbind.clickaway(),module.set.animating(),module.remove.visible(),settings.dimPage&&!module.othersActive()&&$pusher.removeClass(className.dimmed),$context.css("position","relative").animate(properties,settings.duration,settings.easing,function(){module.remove.animating(),callback.call(element)})},scrollToTop:function(){module.verbose("Scrolling to top of page to avoid animation issues"),currentScroll=$(window).scrollTop(),$module.scrollTop(0),window.scrollTo(0,0)},scrollBack:function(){module.verbose("Scrolling back to original page position"),window.scrollTo(0,currentScroll)},set:{ios:function(){$html.addClass(className.ios)},pushed:function(){$context.addClass(className.pushed)},pushable:function(){$context.addClass(className.pushable)},active:function(){$module.addClass(className.active)},animating:function(){$module.addClass(className.animating)},transition:function(transition){transition=transition||module.get.transition(),$module.addClass(transition)},direction:function(direction){direction=direction||module.get.direction(),$module.addClass(className[direction])},visible:function(){$module.addClass(className.visible)},overlay:function(){$module.addClass(className.overlay)}},remove:{bodyCSS:function(){module.debug("Removing body css styles",$style),$style&&$style.length>0&&$style.remove()},pushed:function(){$context.removeClass(className.pushed)},pushable:function(){$context.removeClass(className.pushable)},active:function(){$module.removeClass(className.active)},animating:function(){$module.removeClass(className.animating)},transition:function(transition){transition=transition||module.get.transition(),$module.removeClass(transition)},direction:function(direction){direction=direction||module.get.direction(),$module.removeClass(className[direction])},visible:function(){$module.removeClass(className.visible)},overlay:function(){$module.removeClass(className.overlay)}},get:{direction:function(){return $module.hasClass(className.top)?className.top:$module.hasClass(className.right)?className.right:$module.hasClass(className.bottom)?className.bottom:className.left},transition:function(){var transition,direction=module.get.direction();return transition=module.is.mobile()?"auto"==settings.mobileTransition?settings.defaultTransition.mobile[direction]:settings.mobileTransition:"auto"==settings.transition?settings.defaultTransition.computer[direction]:settings.transition,module.verbose("Determined transition",transition),transition},transitionEvent:function(){var transition,element=document.createElement("element"),transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(transition in transitions)if(element.style[transition]!==undefined)return transitions[transition]}},is:{ie:function(){var isIE11=!window.ActiveXObject&&"ActiveXObject"in window,isIE="ActiveXObject"in window;return isIE11||isIE},legacy:function(){var has3D,element=document.createElement("div"),transforms={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(element,null);for(var transform in transforms)element.style[transform]!==undefined&&(element.style[transform]="translate3d(1px,1px,1px)",has3D=window.getComputedStyle(element).getPropertyValue(transforms[transform]));return document.body.removeChild(element),!(has3D!==undefined&&has3D.length>0&&"none"!==has3D)},ios:function(){var userAgent=navigator.userAgent,isIOS=userAgent.match(regExp.ios);return!!isIOS&&(module.verbose("Browser was found to be iOS",userAgent),!0)},mobile:function(){var userAgent=navigator.userAgent,isMobile=userAgent.match(regExp.mobile);return isMobile?(module.verbose("Browser was found to be mobile",userAgent),!0):(module.verbose("Browser is not mobile, using regular transition",userAgent),!1)},hidden:function(){return!module.is.visible()},visible:function(){return $module.hasClass(className.visible)},open:function(){return module.is.visible()},closed:function(){return module.is.hidden()},vertical:function(){return $module.hasClass(className.top)},animating:function(){return $context.hasClass(className.animating)},rtl:function(){return"rtl"==$module.css("direction")}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&module.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!0,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,useLegacy:"auto",duration:500,easing:"easeInOutQuint",onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}},$.extend($.easing,{easeInOutQuint:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t*t*t+b:c/2*((t-=2)*t*t*t*t+2)+b}})}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.sticky=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var $context,observer,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.sticky.settings,parameters):$.extend({},$.fn.sticky.settings),className=settings.className,namespace=settings.namespace,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$window=$(window),$container=$module.offsetParent(),$scroll=$(settings.scrollContext),instance=($module.selector||"",$module.data(moduleNamespace)),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)},element=this;module={initialize:function(){module.determineContext(),module.verbose("Initializing sticky",settings,$container),module.save.positions(),module.checkErrors(),module.bind.events(),settings.observeChanges&&module.observeChanges(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous instance"),module.reset(),observer&&observer.disconnect(),$window.off("load"+eventNamespace,module.event.load).off("resize"+eventNamespace,module.event.resize),$scroll.off("scrollchange"+eventNamespace,module.event.scrollchange),$module.removeData(moduleNamespace)},observeChanges:function(){var context=$context[0];"MutationObserver"in window&&(observer=new MutationObserver(function(mutations){clearTimeout(module.timer),module.timer=setTimeout(function(){module.verbose("DOM tree modified, updating sticky menu"),module.refresh()},100)}),observer.observe(element,{childList:!0,subtree:!0}),observer.observe(context,{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",observer))},determineContext:function(){if($context=settings.context?$(settings.context):$container,0===$context.length)return void module.error(error.invalidContext,settings.context,$module)},checkErrors:function(){if(module.is.hidden()&&module.error(error.visible,$module),module.cache.element.height>module.cache.context.height)return module.reset(),void module.error(error.elementSize,$module)},bind:{events:function(){$window.on("load"+eventNamespace,module.event.load).on("resize"+eventNamespace,module.event.resize),$scroll.off("scroll"+eventNamespace).on("scroll"+eventNamespace,module.event.scroll).on("scrollchange"+eventNamespace,module.event.scrollchange)}},event:{load:function(){module.verbose("Page contents finished loading"),requestAnimationFrame(module.refresh)},resize:function(){module.verbose("Window resized"),requestAnimationFrame(module.refresh)},scroll:function(){requestAnimationFrame(function(){$scroll.trigger("scrollchange"+eventNamespace,$scroll.scrollTop())})},scrollchange:function(event,scrollPosition){module.stick(scrollPosition),settings.onScroll.call(element)}},refresh:function(hardRefresh){module.reset(),hardRefresh&&($container=$module.offsetParent()),module.save.positions(),module.stick(),settings.onReposition.call(element)},supports:{sticky:function(){var $element=$("<div/>");$element.get();return $element.addClass(className.supported),$element.css("position").match("sticky")}},save:{lastScroll:function(scroll){module.lastScroll=scroll},positions:function(){var window={height:$window.height()},element={margin:{top:parseInt($module.css("margin-top"),10),bottom:parseInt($module.css("margin-bottom"),10)},offset:$module.offset(),width:$module.outerWidth(),height:$module.outerHeight()},context={offset:$context.offset(),height:$context.outerHeight(),bottomPadding:parseInt($context.css("padding-bottom"),10)};module.cache={fits:element.height<window.height,window:{height:window.height},element:{margin:element.margin,top:element.offset.top-element.margin.top,left:element.offset.left,width:element.width,height:element.height,bottom:element.offset.top+element.height},context:{top:context.offset.top,height:context.height,bottomPadding:context.bottomPadding,bottom:context.offset.top+context.height-context.bottomPadding}},module.set.containerSize(),module.set.size(),module.stick(),module.debug("Caching element positions",module.cache)}},get:{direction:function(scroll){var direction="down";return scroll=scroll||$scroll.scrollTop(),module.lastScroll!==undefined&&(module.lastScroll<scroll?direction="down":module.lastScroll>scroll&&(direction="up")),direction},scrollChange:function(scroll){return scroll=scroll||$scroll.scrollTop(),module.lastScroll?scroll-module.lastScroll:0},currentElementScroll:function(){return module.is.top()?Math.abs(parseInt($module.css("top"),10))||0:Math.abs(parseInt($module.css("bottom"),10))||0},elementScroll:function(scroll){scroll=scroll||$scroll.scrollTop();var elementScroll,element=module.cache.element,window=module.cache.window,delta=module.get.scrollChange(scroll),maxScroll=element.height-window.height+settings.offset,elementScroll=module.get.currentElementScroll(),possibleScroll=elementScroll+delta;return elementScroll=module.cache.fits||possibleScroll<0?0:possibleScroll>maxScroll?maxScroll:possibleScroll}},remove:{offset:function(){$module.css("margin-top","")}},set:{offset:function(){module.verbose("Setting offset on element",settings.offset),$module.css("margin-top",settings.offset)},containerSize:function(){var tagName=$container.get(0).tagName;"HTML"===tagName||"body"==tagName?$container=$module.offsetParent():Math.abs($container.height()-module.cache.context.height)>5&&(module.debug("Context has padding, specifying exact height for container",module.cache.context.height),$container.css({height:module.cache.context.height}))},scroll:function(scroll){module.debug("Setting scroll on element",scroll),module.is.top()&&$module.css("bottom","").css("top",-scroll),module.is.bottom()&&$module.css("top","").css("bottom",scroll)},size:function(){0!==module.cache.element.height&&0!==module.cache.element.width&&$module.css({width:module.cache.element.width,height:module.cache.element.height})}},is:{top:function(){return $module.hasClass(className.top)},bottom:function(){return $module.hasClass(className.bottom)},initialPosition:function(){return!module.is.fixed()&&!module.is.bound()},hidden:function(){return!$module.is(":visible")},bound:function(){return $module.hasClass(className.bound)},fixed:function(){return $module.hasClass(className.fixed)}},stick:function(scroll){var cachedPosition=scroll||$scroll.scrollTop(),cache=module.cache,fits=cache.fits,element=cache.element,window=cache.window,context=cache.context,offset=module.is.bottom()&&settings.pushing?settings.bottomOffset:settings.offset,scroll={top:cachedPosition+offset,bottom:cachedPosition+offset+window.height},elementScroll=(module.get.direction(scroll.top),fits?0:module.get.elementScroll(scroll.top)),doesntFit=!fits,elementVisible=0!==element.height;module.save.lastScroll(scroll.top),elementVisible&&(module.is.initialPosition()?scroll.top>=context.bottom?(module.debug("Element bottom of container"),module.bindBottom()):scroll.top>=element.top&&(module.debug("Element passed, fixing element to page"),module.fixTop()):module.is.fixed()?module.is.top()?scroll.top<element.top?(module.debug("Fixed element reached top of container"),module.setInitialPosition()):element.height+scroll.top-elementScroll>context.bottom?(module.debug("Fixed element reached bottom of container"),module.bindBottom()):doesntFit&&module.set.scroll(elementScroll):module.is.bottom()&&(scroll.bottom-element.height<element.top?(module.debug("Bottom fixed rail has reached top of container"),module.setInitialPosition()):scroll.bottom>context.bottom?(module.debug("Bottom fixed rail has reached bottom of container"),module.bindBottom()):doesntFit&&module.set.scroll(elementScroll)):module.is.bottom()&&(settings.pushing?module.is.bound()&&scroll.bottom<context.bottom&&(module.debug("Fixing bottom attached element to bottom of browser."),module.fixBottom()):module.is.bound()&&scroll.top<context.bottom-element.height&&(module.debug("Fixing bottom attached element to top of browser."),module.fixTop())))},bindTop:function(){module.debug("Binding element to top of parent container"),module.remove.offset(),$module.css("left","").css("top","").css("margin-bottom","").removeClass(className.fixed).removeClass(className.bottom).addClass(className.bound).addClass(className.top),settings.onTop.call(element),settings.onUnstick.call(element)},bindBottom:function(){module.debug("Binding element to bottom of parent container"),module.remove.offset(),$module.css("left","").css("top","").css("margin-bottom",module.cache.context.bottomPadding).removeClass(className.fixed).removeClass(className.top).addClass(className.bound).addClass(className.bottom),settings.onBottom.call(element),settings.onUnstick.call(element)},setInitialPosition:function(){module.unfix(),module.unbind()},fixTop:function(){module.debug("Fixing element to top of page"),module.set.offset(),$module.css("left",module.cache.element.left).css("bottom","").removeClass(className.bound).removeClass(className.bottom).addClass(className.fixed).addClass(className.top),settings.onStick.call(element)},fixBottom:function(){module.debug("Sticking element to bottom of page"),module.set.offset(),$module.css("left",module.cache.element.left).css("bottom","").removeClass(className.bound).removeClass(className.top).addClass(className.fixed).addClass(className.bottom),settings.onStick.call(element)},unbind:function(){module.debug("Removing absolute position on element"),module.remove.offset(),$module.removeClass(className.bound).removeClass(className.top).removeClass(className.bottom)},unfix:function(){module.debug("Removing fixed position on element"),module.remove.offset(),$module.removeClass(className.fixed).removeClass(className.top).removeClass(className.bottom),settings.onUnstick.call(element)},reset:function(){module.debug("Reseting elements position"),module.unbind(),module.unfix(),module.resetCSS(),module.remove.offset()},resetCSS:function(){$module.css({width:"",height:""}),$container.css({height:""})},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,0)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined&&(found=object[value],!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!1,performance:!1,pushing:!1,context:!1,scrollContext:window,offset:0,bottomOffset:0,observeChanges:!0,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.tab=function(parameters){var module,returnedValue,$allModules=$($.isFunction(this)?window:this),settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.tab.settings,parameters):$.extend({},$.fn.tab.settings),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var $context,$tabs,activeTabPath,parameterArray,historyEvent,className=settings.className,metadata=settings.metadata,selector=settings.selector,error=settings.error,eventNamespace="."+settings.namespace,moduleNamespace="module-"+settings.namespace,$module=$(this),cache={},firstLoad=!0,recursionDepth=0,element=this,instance=$module.data(moduleNamespace);
module={initialize:function(){module.debug("Initializing tab menu item",$module),module.determineTabs(),module.debug("Determining tabs",settings.context,$tabs),settings.auto&&module.set.auto(),$.isWindow(element)||(module.debug("Attaching tab activation events to element",$module),$module.on("click"+eventNamespace,module.event.click)),module.instantiate()},determineTabs:function(){var $reference;"parent"===settings.context?($module.closest(selector.ui).length>0?($reference=$module.closest(selector.ui),module.verbose("Using closest UI element for determining parent",$reference)):$reference=$module,$context=$reference.parent(),module.verbose("Determined parent element for creating context",$context)):settings.context?($context=$(settings.context),module.verbose("Using selector for tab context",settings.context,$context)):$context=$("body"),settings.childrenOnly?($tabs=$context.children(selector.tabs),module.debug("Searching tab context children for tabs",$context,$tabs)):($tabs=$context.find(selector.tabs),module.debug("Searching tab context for tabs",$context,$tabs))},initializeHistory:function(){if(settings.history){if(module.debug("Initializing page state"),$.address===undefined)return module.error(error.state),!1;if("state"==settings.historyType){if(module.debug("Using HTML5 to manage state"),settings.path===!1)return module.error(error.path),!1;$.address.history(!0).state(settings.path)}$.address.bind("change",module.event.history.change)}},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.debug("Destroying tabs",$module),$module.removeData(moduleNamespace).off(eventNamespace)},event:{click:function(event){var tabPath=$(this).data(metadata.tab);tabPath!==undefined?(settings.history?(module.verbose("Updating page state",event),$.address.value(tabPath)):(module.verbose("Changing tab",event),module.changeTab(tabPath)),event.preventDefault()):module.debug("No tab specified")},history:{change:function(event){var tabPath=event.pathNames.join("/")||module.get.initialPath(),pageTitle=settings.templates.determineTitle(tabPath)||!1;module.performance.display(),module.debug("History change event",tabPath,event),historyEvent=event,tabPath!==undefined&&module.changeTab(tabPath),pageTitle&&$.address.title(pageTitle)}}},refresh:function(){activeTabPath&&(module.debug("Refreshing tab",activeTabPath),module.changeTab(activeTabPath))},cache:{read:function(cacheKey){return cacheKey!==undefined&&cache[cacheKey]},add:function(cacheKey,content){cacheKey=cacheKey||activeTabPath,module.debug("Adding cached content for",cacheKey),cache[cacheKey]=content},remove:function(cacheKey){cacheKey=cacheKey||activeTabPath,module.debug("Removing cached content for",cacheKey),delete cache[cacheKey]}},set:{auto:function(){var url="string"==typeof settings.path?settings.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";module.verbose("Setting up automatic tab retrieval from server",url),$.isPlainObject(settings.apiSettings)?settings.apiSettings.url=url:settings.apiSettings={url:url}},state:function(state){$.address.value(state)}},changeTab:function(tabPath){var pushStateAvailable=window.history&&window.history.pushState,shouldIgnoreLoad=pushStateAvailable&&settings.ignoreFirstLoad&&firstLoad,remoteContent=settings.auto||$.isPlainObject(settings.apiSettings),pathArray=remoteContent&&!shouldIgnoreLoad?module.utilities.pathToArray(tabPath):module.get.defaultPathArray(tabPath);tabPath=module.utilities.arrayToPath(pathArray),$.each(pathArray,function(index,tab){var $anchor,nextPathArray,nextPath,isLastTab,currentPathArray=pathArray.slice(0,index+1),currentPath=module.utilities.arrayToPath(currentPathArray),isTab=module.is.tab(currentPath),isLastIndex=index+1==pathArray.length,$tab=module.get.tabElement(currentPath);if(module.verbose("Looking for tab",tab),isTab){if(module.verbose("Tab was found",tab),activeTabPath=currentPath,parameterArray=module.utilities.filterArray(pathArray,currentPathArray),isLastIndex?isLastTab=!0:(nextPathArray=pathArray.slice(0,index+2),nextPath=module.utilities.arrayToPath(nextPathArray),isLastTab=!module.is.tab(nextPath),isLastTab&&module.verbose("Tab parameters found",nextPathArray)),isLastTab&&remoteContent)return shouldIgnoreLoad?(module.debug("Ignoring remote content on first tab load",currentPath),firstLoad=!1,module.cache.add(tabPath,$tab.html()),module.activate.all(currentPath),settings.onTabInit.call($tab,currentPath,parameterArray,historyEvent),settings.onTabLoad.call($tab,currentPath,parameterArray,historyEvent)):(module.activate.navigation(currentPath),module.content.fetch(currentPath,tabPath)),!1;module.debug("Opened local tab",currentPath),module.activate.all(currentPath),module.cache.read(currentPath)||(module.cache.add(currentPath,!0),module.debug("First time tab loaded calling tab init"),settings.onTabInit.call($tab,currentPath,parameterArray,historyEvent)),settings.onTabLoad.call($tab,currentPath,parameterArray,historyEvent)}else{if(tabPath.search("/")!=-1||""===tabPath)return module.error(error.missingTab,$module,$context,currentPath),!1;if($anchor=$("#"+tabPath+', a[name="'+tabPath+'"]'),currentPath=$anchor.closest("[data-tab]").data("tab"),$tab=module.get.tabElement(currentPath),$anchor&&$anchor.length>0&&currentPath)return module.debug("No tab found, but deep anchor link present, opening parent tab"),module.activate.all(currentPath),module.cache.read(currentPath)||(module.cache.add(currentPath,!0),module.debug("First time tab loaded calling tab init"),settings.onTabInit.call($tab,currentPath,parameterArray,historyEvent)),!1}})},content:{fetch:function(tabPath,fullTabPath){var requestSettings,cachedContent,$tab=module.get.tabElement(tabPath),apiSettings={dataType:"html",on:"now",onSuccess:function(response){module.cache.add(fullTabPath,response),module.content.update(tabPath,response),tabPath==activeTabPath?(module.debug("Content loaded",tabPath),module.activate.tab(tabPath)):module.debug("Content loaded in background",tabPath),settings.onTabInit.call($tab,tabPath,parameterArray,historyEvent),settings.onTabLoad.call($tab,tabPath,parameterArray,historyEvent)},urlData:{tab:fullTabPath}},request=$tab.api("get request")||!1,existingRequest=request&&"pending"===request.state();fullTabPath=fullTabPath||tabPath,cachedContent=module.cache.read(fullTabPath),module.activate.tab(tabPath),settings.cache&&cachedContent?(module.debug("Showing existing content",fullTabPath),module.content.update(tabPath,cachedContent),settings.onTabLoad.call($tab,tabPath,parameterArray,historyEvent)):existingRequest?(module.debug("Content is already loading",fullTabPath),$tab.addClass(className.loading)):$.api!==undefined?(requestSettings=$.extend(!0,{headers:{"X-Remote":!0}},settings.apiSettings,apiSettings),module.debug("Retrieving remote content",fullTabPath,requestSettings),$tab.api(requestSettings)):module.error(error.api)},update:function(tabPath,html){module.debug("Updating html for",tabPath);var $tab=module.get.tabElement(tabPath);$tab.html(html)}},activate:{all:function(tabPath){module.activate.tab(tabPath),module.activate.navigation(tabPath)},tab:function(tabPath){var $tab=module.get.tabElement(tabPath);module.verbose("Showing tab content for",$tab),$tab.addClass(className.active).siblings($tabs).removeClass(className.active+" "+className.loading)},navigation:function(tabPath){var $navigation=module.get.navElement(tabPath);module.verbose("Activating tab navigation for",$navigation,tabPath),$navigation.addClass(className.active).siblings($allModules).removeClass(className.active+" "+className.loading)}},deactivate:{all:function(){module.deactivate.navigation(),module.deactivate.tabs()},navigation:function(){$allModules.removeClass(className.active)},tabs:function(){$tabs.removeClass(className.active+" "+className.loading)}},is:{tab:function(tabName){return tabName!==undefined&&module.get.tabElement(tabName).length>0}},get:{initialPath:function(){return $allModules.eq(0).data(metadata.tab)||$tabs.eq(0).data(metadata.tab)},path:function(){return $.address.value()},defaultPathArray:function(tabPath){return module.utilities.pathToArray(module.get.defaultPath(tabPath))},defaultPath:function(tabPath){var $defaultNav=$allModules.filter("[data-"+metadata.tab+'^="'+tabPath+'/"]').eq(0),defaultTab=$defaultNav.data(metadata.tab)||!1;if(defaultTab){if(module.debug("Found default tab",defaultTab),recursionDepth<settings.maxDepth)return recursionDepth++,module.get.defaultPath(defaultTab);module.error(error.recursion)}else module.debug("No default tabs found for",tabPath,$tabs);return recursionDepth=0,tabPath},navElement:function(tabPath){return tabPath=tabPath||activeTabPath,$allModules.filter("[data-"+metadata.tab+'="'+tabPath+'"]')},tabElement:function(tabPath){var $fullPathTab,$simplePathTab,tabPathArray,lastTab;return tabPath=tabPath||activeTabPath,tabPathArray=module.utilities.pathToArray(tabPath),lastTab=module.utilities.last(tabPathArray),$fullPathTab=$tabs.filter("[data-"+metadata.tab+'="'+lastTab+'"]'),$simplePathTab=$tabs.filter("[data-"+metadata.tab+'="'+tabPath+'"]'),$fullPathTab.length>0?$fullPathTab:$simplePathTab},tab:function(){return activeTabPath}},utilities:{filterArray:function(keepArray,removeArray){return $.grep(keepArray,function(keepValue){return $.inArray(keepValue,removeArray)==-1})},last:function(array){return!!$.isArray(array)&&array[array.length-1]},pathToArray:function(pathName){return pathName===undefined&&(pathName=activeTabPath),"string"==typeof pathName?pathName.split("/"):[pathName]},arrayToPath:function(pathArray){return!!$.isArray(pathArray)&&pathArray.join("/")}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),module&&!methodInvoked&&module.initializeHistory(),returnedValue!==undefined?returnedValue:this},$.tab=function(){$(window).tab.apply(this,arguments)},$.fn.tab.settings={name:"Tab",namespace:"tab",debug:!1,verbose:!0,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,alwaysRefresh:!1,cache:!0,ignoreFirstLoad:!1,apiSettings:!1,onTabInit:function(tabPath,parameterArray,historyEvent){},onTabLoad:function(tabPath,parameterArray,historyEvent){},templates:{determineTitle:function(tabArray){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found for this context.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.transition=function(){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],moduleArguments=arguments,query=moduleArguments[0],queryArguments=[].slice.call(arguments,1),methodInvoked="string"==typeof query;window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)};return $allModules.each(function(index){var settings,instance,error,className,metadata,animationStart,animationEnd,animationName,moduleNamespace,eventNamespace,module,$module=$(this),element=this;module={initialize:function(){settings=module.get.settings.apply(element,moduleArguments),className=settings.className,error=settings.error,metadata=settings.metadata,eventNamespace="."+settings.namespace,moduleNamespace="module-"+settings.namespace,instance=$module.data(moduleNamespace)||module,animationEnd=module.get.animationEndEvent(),animationName=module.get.animationName(),animationStart=module.get.animationStartEvent(),methodInvoked&&(methodInvoked=module.invoke(query)),methodInvoked===!1&&(module.verbose("Converted arguments into settings object",settings),settings.interval?module.delay(settings.animate):module.animate(),module.instantiate())},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,instance)},destroy:function(){module.verbose("Destroying previous module for",element),$module.removeData(moduleNamespace)},refresh:function(){module.verbose("Refreshing display type on next animation"),delete module.displayType},forceRepaint:function(){module.verbose("Forcing element repaint");var $parentElement=$module.parent(),$nextElement=$module.next();0===$nextElement.length?$module.detach().appendTo($parentElement):$module.detach().insertBefore($nextElement)},repaint:function(){module.verbose("Repainting element");element.offsetWidth},delay:function(interval){var delay,isReverse=settings.reverse===!0,shouldReverse="auto"==settings.reverse&&module.get.direction()==className.outward;interval=typeof interval!==undefined?interval:settings.interval,delay=isReverse||shouldReverse?($allModules.length-index)*settings.interval:index*settings.interval,module.debug("Delaying animation by",delay),setTimeout(module.animate,delay)},animate:function(overrideSettings){if(settings=overrideSettings||settings,!module.is.supported())return module.error(error.support),!1;if(module.debug("Preparing animation",settings.animation),module.is.animating()){if(settings.queue)return!settings.allowRepeats&&module.has.direction()&&module.is.occurring()&&module.queuing!==!0?module.debug("Animation is currently occurring, preventing queueing same animation",settings.animation):module.queue(settings.animation),!1;if(!settings.allowRepeats&&module.is.occurring())return module.debug("Animation is already occurring, will not execute repeated animation",settings.animation),!1;module.debug("New animation started, completing previous early",settings.animation),module.complete()}module.can.animate()?module.set.animating(settings.animation):module.error(error.noAnimation,settings.animation,element)},reset:function(){module.debug("Resetting animation to beginning conditions"),module.remove.animationCallbacks(),module.restore.conditions(),module.remove.animating()},queue:function(animation){module.debug("Queueing animation of",animation),module.queuing=!0,$module.one(animationEnd+".queue"+eventNamespace,function(){module.queuing=!1,module.repaint(),module.animate.apply(this,settings)})},complete:function(event){module.debug("Animation complete",settings.animation),module.remove.completeCallback(),module.remove.failSafe(),module.is.looping()||(module.is.outward()?(module.verbose("Animation is outward, hiding element"),module.restore.conditions(),module.hide(),settings.onHide.call(this)):module.is.inward()?(module.verbose("Animation is outward, showing element"),module.restore.conditions(),module.show(),settings.onShow.call(this)):module.restore.conditions(),module.remove.animation(),module.remove.animating()),settings.onComplete.call(this)},has:{direction:function(animation){var hasDirection=!1;return animation=animation||settings.animation,"string"==typeof animation&&(animation=animation.split(" "),$.each(animation,function(index,word){word!==className.inward&&word!==className.outward||(hasDirection=!0)})),hasDirection},inlineDisplay:function(){var style=$module.attr("style")||"";return $.isArray(style.match(/display.*?;/,""))}},set:{animating:function(animation){animation=animation||settings.animation,module.is.animating()||module.save.conditions(),module.remove.direction(),module.remove.completeCallback(),module.can.transition()&&!module.has.direction()&&module.set.direction(),module.remove.hidden(),module.set.display(),$module.addClass(className.animating+" "+className.transition+" "+animation).addClass(animation).one(animationEnd+".complete"+eventNamespace,module.complete),settings.useFailSafe&&module.add.failSafe(),module.set.duration(settings.duration),settings.onStart.call(this),module.debug("Starting tween",animation,$module.attr("class"))},duration:function(animationName,duration){duration=duration||settings.duration,duration="number"==typeof duration?duration+"ms":duration,(duration||0===duration)&&(module.verbose("Setting animation duration",duration),$module.css({"-webkit-animation-duration":duration,"-moz-animation-duration":duration,"-ms-animation-duration":duration,"-o-animation-duration":duration,"animation-duration":duration}))},display:function(){var style=module.get.style(),displayType=module.get.displayType(),overrideStyle=style+"display: "+displayType+" !important;";$module.css("display",""),module.refresh(),$module.css("display")!==displayType&&(module.verbose("Setting inline visibility to",displayType),$module.attr("style",overrideStyle))},direction:function(){$module.is(":visible")&&!module.is.hidden()?(module.debug("Automatically determining the direction of animation","Outward"),$module.removeClass(className.inward).addClass(className.outward)):(module.debug("Automatically determining the direction of animation","Inward"),$module.removeClass(className.outward).addClass(className.inward))},looping:function(){module.debug("Transition set to loop"),$module.addClass(className.looping)},hidden:function(){module.is.hidden()||$module.addClass(className.transition).addClass(className.hidden),"none"!==$module.css("display")&&(module.verbose("Overriding default display to hide element"),$module.css("display","none"))},visible:function(){$module.addClass(className.transition).addClass(className.visible)}},save:{displayType:function(displayType){$module.data(metadata.displayType,displayType)},transitionExists:function(animation,exists){$.fn.transition.exists[animation]=exists,module.verbose("Saving existence of transition",animation,exists)},conditions:function(){$module.attr("class")||!1,$module.attr("style")||"";$module.removeClass(settings.animation),module.remove.direction(),module.cache={className:$module.attr("class"),style:module.get.style()},module.verbose("Saving original attributes",module.cache)}},restore:{conditions:function(){return module.cache!==undefined&&(module.cache.className?$module.attr("class",module.cache.className):$module.removeAttr("class"),module.cache.style?(module.verbose("Restoring original style attribute",module.cache.style),$module.attr("style",module.cache.style)):(module.verbose("Clearing style attribute"),$module.removeAttr("style")),void module.verbose("Restoring original attributes",module.cache))}},add:{failSafe:function(){var duration=module.get.duration();module.timer=setTimeout(function(){$module.trigger(animationEnd)},duration+settings.failSafeDelay),module.verbose("Adding fail safe timer",module.timer)}},remove:{animating:function(){$module.removeClass(className.animating)},animation:function(){$module.css({"-webkit-animation":"","-moz-animation":"","-ms-animation":"","-o-animation":"",animation:""})},animationCallbacks:function(){module.remove.queueCallback(),module.remove.completeCallback()},queueCallback:function(){$module.off(".queue"+eventNamespace)},completeCallback:function(){$module.off(".complete"+eventNamespace)},display:function(){$module.css("display","")},direction:function(){$module.removeClass(className.inward).removeClass(className.outward)},failSafe:function(){module.verbose("Removing fail safe timer",module.timer),module.timer&&clearTimeout(module.timer)},hidden:function(){$module.removeClass(className.hidden)},visible:function(){$module.removeClass(className.visible)},looping:function(){module.debug("Transitions are no longer looping"),module.is.looping()&&(module.reset(),$module.removeClass(className.looping))},transition:function(){$module.removeClass(className.visible).removeClass(className.hidden)}},get:{settings:function(animation,duration,onComplete){return"object"==typeof animation?$.extend(!0,{},$.fn.transition.settings,animation):"function"==typeof onComplete?$.extend({},$.fn.transition.settings,{animation:animation,onComplete:onComplete,duration:duration}):"string"==typeof duration||"number"==typeof duration?$.extend({},$.fn.transition.settings,{animation:animation,duration:duration}):"object"==typeof duration?$.extend({},$.fn.transition.settings,duration,{animation:animation}):"function"==typeof duration?$.extend({},$.fn.transition.settings,{animation:animation,onComplete:duration}):$.extend({},$.fn.transition.settings,{animation:animation})},direction:function(animation){return animation=animation||settings.animation,"string"==typeof animation&&(animation=animation.split(" "),$.each(animation,function(index,word){return word===className.inward?className.inward:word===className.outward?className.outward:void 0})),module.can.transition()?$module.is(":visible")&&!module.is.hidden()?className.outward:className.inward:"static"},duration:function(duration){return duration=duration||settings.duration,duration===!1&&(duration=$module.css("animation-duration")||0),"string"==typeof duration?duration.indexOf("ms")>-1?parseFloat(duration):1e3*parseFloat(duration):duration},displayType:function(){return settings.displayType?settings.displayType:($module.data(metadata.displayType)===undefined&&module.can.transition(!0),$module.data(metadata.displayType))},style:function(){var style=$module.attr("style")||"";return style.replace(/display.*?;/,"")},transitionExists:function(animation){return $.fn.transition.exists[animation]},animationName:function(){var animation,element=document.createElement("div"),animations={animation:"animationName",OAnimation:"oAnimationName",MozAnimation:"mozAnimationName",WebkitAnimation:"webkitAnimationName"};for(animation in animations)if(element.style[animation]!==undefined)return animations[animation];return!1},animationStartEvent:function(){var animation,element=document.createElement("div"),animations={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(animation in animations)if(element.style[animation]!==undefined)return animations[animation];return!1},animationEndEvent:function(){var animation,element=document.createElement("div"),animations={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(animation in animations)if(element.style[animation]!==undefined)return animations[animation];return!1}},can:{transition:function(forced){var $clone,currentAnimation,inAnimation,directionExists,displayType,elementClass=$module.attr("class"),tagName=$module.prop("tagName"),animation=settings.animation,transitionExists=module.get.transitionExists(animation);if(transitionExists===undefined||forced){if(module.verbose("Determining whether animation exists"),$clone=$("<"+tagName+" />").addClass(elementClass).insertAfter($module),currentAnimation=$clone.addClass(animation).removeClass(className.inward).removeClass(className.outward).addClass(className.animating).addClass(className.transition).css(animationName),inAnimation=$clone.addClass(className.inward).css(animationName),displayType=$clone.attr("class",elementClass).removeAttr("style").removeClass(className.hidden).removeClass(className.visible).show().css("display"),module.verbose("Determining final display state",displayType),module.save.displayType(displayType),$clone.remove(),currentAnimation!=inAnimation)module.debug("Direction exists for animation",animation),directionExists=!0;else{if("none"==currentAnimation||!currentAnimation)return void module.debug("No animation defined in css",animation);module.debug("Static animation found",animation,displayType),directionExists=!1}module.save.transitionExists(animation,directionExists)}return transitionExists!==undefined?transitionExists:directionExists},animate:function(){return module.can.transition()!==undefined}},is:{animating:function(){return $module.hasClass(className.animating)},inward:function(){return $module.hasClass(className.inward)},outward:function(){return $module.hasClass(className.outward)},looping:function(){return $module.hasClass(className.looping)},occurring:function(animation){return animation=animation||settings.animation,animation="."+animation.replace(" ","."),$module.filter(animation).length>0},visible:function(){return $module.is(":visible")},hidden:function(){return"hidden"===$module.css("visibility")},supported:function(){return animationName!==!1&&animationEnd!==!1}},hide:function(){module.verbose("Hiding element"),module.is.animating()&&module.reset(),module.remove.display(),module.remove.visible(),module.set.hidden(),module.repaint()},show:function(display){module.verbose("Showing element",display),module.remove.hidden(),module.set.visible(),module.set.display(),module.repaint()},toggle:function(){module.is.visible()?module.hide():module.show()},stop:function(){module.debug("Stopping current animation"),$module.trigger(animationEnd)},stopAll:function(){module.debug("Stopping all animation"),module.remove.queueCallback(),$module.trigger(animationEnd)},clear:{queue:function(){module.debug("Clearing animation queue"),module.remove.queueCallback()}},enable:function(){module.verbose("Starting animation"),$module.removeClass(className.disabled)},disable:function(){module.debug("Stopping animation"),$module.addClass(className.disabled)},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined&&(found=object[value],!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found!==undefined&&found}},module.initialize()}),returnedValue!==undefined?returnedValue:this},$.fn.transition.exists={},$.fn.transition.settings={name:"Transition",debug:!1,verbose:!0,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified.",
repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.video=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)};return $allModules.each(function(){var module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.video.settings,parameters):$.extend({},$.fn.video.settings),selector=settings.selector,className=settings.className,error=settings.error,metadata=settings.metadata,namespace=settings.namespace,templates=settings.templates,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=($(window),$(this)),$placeholder=$module.find(selector.placeholder),$playButton=$module.find(selector.playButton),$embed=$module.find(selector.embed),element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing video"),module.create(),$placeholder.on("click"+eventNamespace,module.play),$playButton.on("click"+eventNamespace,module.play),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},create:function(){var image=$module.data(metadata.image),html=templates.video(image);$module.html(html),module.refresh(),image||module.play(),module.debug("Creating html for video element",html)},destroy:function(){module.verbose("Destroying previous instance of video"),module.reset(),$module.removeData(moduleNamespace).off(eventNamespace),$placeholder.off(eventNamespace),$playButton.off(eventNamespace)},refresh:function(){module.verbose("Refreshing selector cache"),$placeholder=$module.find(selector.placeholder),$playButton=$module.find(selector.playButton),$embed=$module.find(selector.embed)},change:function(source,id,url){module.debug("Changing video to ",source,id,url),$module.data(metadata.source,source).data(metadata.id,id).data(metadata.url,url),settings.onChange()},reset:function(){module.debug("Clearing video embed and showing placeholder"),$module.removeClass(className.active),$embed.html(" "),$placeholder.show(),settings.onReset()},play:function(){module.debug("Playing video");var source=$module.data(metadata.source)||!1,url=$module.data(metadata.url)||!1,id=$module.data(metadata.id)||!1;$embed.html(module.generate.html(source,id,url)),$module.addClass(className.active),settings.onPlay()},get:{source:function(url){return"string"==typeof url&&(url.search("youtube.com")!==-1?"youtube":url.search("vimeo.com")!==-1&&"vimeo")},id:function(url){return url.match(settings.regExp.youtube)?url.match(settings.regExp.youtube)[1]:!!url.match(settings.regExp.vimeo)&&url.match(settings.regExp.vimeo)[2]}},generate:{html:function(source,id,url){module.debug("Generating embed html");var html;return source=source||settings.source,id=id||settings.id,source&&id||url?(source&&id||(source=module.get.source(url),id=module.get.id(url)),"vimeo"==source?html='<iframe src="//player.vimeo.com/video/'+id+"?="+module.generate.url(source)+'" width="100%" height="100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>':"youtube"==source&&(html='<iframe src="//www.youtube.com/embed/'+id+"?="+module.generate.url(source)+'" width="100%" height="100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>')):module.error(error.noVideo),html},url:function(source){var api=settings.api?1:0,autoplay="auto"===settings.autoplay?$module.data("image")!==undefined:settings.autoplay,hd=settings.hd?1:0,showUI=settings.showUI?1:0,hideUI=settings.showUI?0:1,url="";return"vimeo"==source&&(url="api="+api+"&amp;title="+showUI+"&amp;byline="+showUI+"&amp;portrait="+showUI+"&amp;autoplay="+autoplay,settings.color&&(url+="&amp;color="+settings.color)),"ustream"==source?(url="autoplay="+autoplay,settings.color&&(url+="&amp;color="+settings.color)):"youtube"==source&&(url="enablejsapi="+api+"&amp;autoplay="+autoplay+"&amp;autohide="+hideUI+"&amp;hq="+hd+"&amp;modestbranding=1",settings.color&&(url+="&amp;color="+settings.color)),url}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.video.settings={name:"Video",namespace:"video",debug:!1,verbose:!0,performance:!0,metadata:{id:"id",image:"image",source:"source",url:"url"},source:!1,url:!1,id:!1,aspectRatio:16/9,onPlay:function(){},onReset:function(){},onChange:function(){},onPause:function(){},onStop:function(){},width:"auto",height:"auto",autoplay:"auto",color:"#442359",hd:!0,showUI:!1,api:!0,regExp:{youtube:/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,vimeo:/http:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/},error:{noVideo:"No video specified",method:"The method you called is not defined"},className:{active:"active"},selector:{embed:".embed",placeholder:".placeholder",playButton:".play"}},$.fn.video.settings.templates={video:function(image){var html="";return image&&(html+='<i class="video play icon"></i><img class="placeholder" src="'+image+'">'),html+='<div class="embed"></div>'}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.api=$.fn.api=function(parameters){var returnedValue,$allModules=$($.isFunction(this)?window:this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var ajaxSettings,requestSettings,url,data,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.api.settings,parameters):$.extend({},$.fn.api.settings),namespace=settings.namespace,metadata=settings.metadata,selector=settings.selector,error=settings.error,className=settings.className,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$form=$module.closest(selector.form),$context=settings.stateContext?$(settings.stateContext):$module,element=this,context=$context.get(),instance=$module.data(moduleNamespace);module={initialize:function(){var triggerEvent=module.get.event();methodInvoked||(triggerEvent?(module.debug("Attaching API events to element",triggerEvent),$module.on(triggerEvent+eventNamespace,module.event.trigger)):"now"==settings.on&&(module.debug("Querying API now",triggerEvent),module.query())),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,instance)},destroy:function(){module.verbose("Destroying previous module for",element),$module.removeData(moduleNamespace).off(eventNamespace)},query:function(){if(module.is.disabled())return void module.debug("Element is disabled API request aborted");if(module.is.loading()&&0===settings.throttle)return void module.debug("Cancelling request, previous request is still pending");if(settings.defaultData&&$.extend(!0,settings.urlData,module.get.defaultData()),(settings.serializeForm!==!1||$context.is("form"))&&("json"==settings.serializeForm?$.extend(!0,settings.data,module.get.formData()):settings.data=module.get.formData()),requestSettings=module.get.settings(),requestSettings===!1)return module.cancelled=!0,void module.error(error.beforeSend);if(module.cancelled=!1,settings.url?(module.debug("Using specified url",url),url=module.add.urlData(settings.url)):(url=module.add.urlData(module.get.templateURL()),module.debug("Added URL Data to url",url)),!url){if(!module.is.form())return void module.error(error.missingURL,settings.action);url=$module.attr("action")||"",module.debug("No url or action specified, defaulting to form action",url)}module.set.loading(),ajaxSettings=$.extend(!0,{},settings,{type:settings.method||settings.type,data:data,url:settings.base+url,beforeSend:settings.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),module.debug("Querying URL",ajaxSettings.url),module.debug("Sending data",data,ajaxSettings.method),module.verbose("Using AJAX settings",ajaxSettings),module.is.loading()?module.timer=setTimeout(function(){module.request=module.create.request(),module.xhr=module.create.xhr(),settings.onRequest.call(context,module.request,module.xhr)},settings.throttle):(module.request=module.create.request(),module.xhr=module.create.xhr(),settings.onRequest.call(context,module.request,module.xhr))},is:{disabled:function(){return $module.filter(settings.filter).length>0},form:function(){return $module.is("form")},input:function(){return $module.is("input")},loading:function(){return module.request&&"pending"==module.request.state()}},was:{cancelled:function(){return module.cancelled||!1},succesful:function(){return module.request&&"resolved"==module.request.state()},failure:function(){return module.request&&"rejected"==module.request.state()},complete:function(){return module.request&&("resolved"==module.request.state()||"rejected"==module.request.state())}},add:{urlData:function(url,urlData){var requiredVariables,optionalVariables;return url&&(requiredVariables=url.match(settings.regExp.required),optionalVariables=url.match(settings.regExp.optional),urlData=urlData||settings.urlData,requiredVariables&&(module.debug("Looking for required URL variables",requiredVariables),$.each(requiredVariables,function(index,templatedString){var variable=templatedString.indexOf("$")!==-1?templatedString.substr(2,templatedString.length-3):templatedString.substr(1,templatedString.length-2),value=$.isPlainObject(urlData)&&urlData[variable]!==undefined?urlData[variable]:$module.data(variable)!==undefined?$module.data(variable):$context.data(variable)!==undefined?$context.data(variable):urlData[variable];return value===undefined?(module.error(error.requiredParameter,variable,url),url=!1,!1):(module.verbose("Found required variable",variable,value),void(url=url.replace(templatedString,value)))})),optionalVariables&&(module.debug("Looking for optional URL variables",requiredVariables),$.each(optionalVariables,function(index,templatedString){var variable=templatedString.indexOf("$")!==-1?templatedString.substr(3,templatedString.length-4):templatedString.substr(2,templatedString.length-3),value=$.isPlainObject(urlData)&&urlData[variable]!==undefined?urlData[variable]:$module.data(variable)!==undefined?$module.data(variable):$context.data(variable)!==undefined?$context.data(variable):urlData[variable];value!==undefined?(module.verbose("Optional variable Found",variable,value),url=url.replace(templatedString,value)):(module.verbose("Optional variable not found",variable),url=url.indexOf("/"+templatedString)!==-1?url.replace("/"+templatedString,""):url.replace(templatedString,""))}))),url}},event:{trigger:function(event){module.query(),"submit"!=event.type&&"click"!=event.type||event.preventDefault()},xhr:{always:function(){},done:function(response){var context=this,elapsedTime=(new Date).getTime()-time,timeLeft=settings.loadingDuration-elapsedTime;timeLeft=timeLeft>0?timeLeft:0,setTimeout(function(){module.request.resolveWith(context,[response])},timeLeft)},fail:function(xhr,status,httpMessage){var context=this,elapsedTime=(new Date).getTime()-time,timeLeft=settings.loadingDuration-elapsedTime;timeLeft=timeLeft>0?timeLeft:0,setTimeout(function(){"abort"!==status?module.request.rejectWith(context,[xhr,status,httpMessage]):module.reset()},timeLeft)}},request:{complete:function(response){module.remove.loading(),settings.onComplete.call(context,response,$module)},done:function(response){module.debug("API Response Received",response),"json"==settings.dataType&&$.isFunction(settings.successTest)?(module.debug("Checking JSON returned success",settings.successTest,response),settings.successTest(response)?settings.onSuccess.call(context,response,$module):(module.debug("JSON test specified by user and response failed",response),settings.onFailure.call(context,response,$module))):settings.onSuccess.call(context,response,$module)},error:function(xhr,status,httpMessage){var response,errorMessage=settings.error[status]!==undefined?settings.error[status]:httpMessage;if(xhr!==undefined)if(xhr.readyState!==undefined&&4==xhr.readyState){if(200!=xhr.status&&httpMessage!==undefined&&""!==httpMessage)module.error(error.statusMessage+httpMessage,ajaxSettings.url);else if("error"==status&&"json"==settings.dataType)try{response=$.parseJSON(xhr.responseText),response&&response.error!==undefined&&(errorMessage=response.error)}catch(e){module.error(error.JSONParse)}module.remove.loading(),module.set.error(),settings.errorDuration&&setTimeout(module.remove.error,settings.errorDuration),module.debug("API Request error:",errorMessage),settings.onError.call(context,errorMessage,$module)}else settings.onAbort.call(context,errorMessage,$module),module.debug("Request Aborted (Most likely caused by page change or CORS Policy)",status,httpMessage)}}},create:{request:function(){return $.Deferred().always(module.event.request.complete).done(module.event.request.done).fail(module.event.request.error)},xhr:function(){return $.ajax(ajaxSettings).always(module.event.xhr.always).done(module.event.xhr.done).fail(module.event.xhr.fail)}},set:{error:function(){module.verbose("Adding error state to element",$context),$context.addClass(className.error)},loading:function(){module.verbose("Adding loading state to element",$context),$context.addClass(className.loading)}},remove:{error:function(){module.verbose("Removing error state from element",$context),$context.removeClass(className.error)},loading:function(){module.verbose("Removing loading state from element",$context),$context.removeClass(className.loading)}},get:{request:function(){return module.request||!1},xhr:function(){return module.xhr||!1},settings:function(){var runSettings;return runSettings=settings.beforeSend.call($module,settings),runSettings&&(runSettings.success!==undefined&&(module.debug("Legacy success callback detected",runSettings),module.error(error.legacyParameters,runSettings.success),runSettings.onSuccess=runSettings.success),runSettings.failure!==undefined&&(module.debug("Legacy failure callback detected",runSettings),module.error(error.legacyParameters,runSettings.failure),runSettings.onFailure=runSettings.failure),runSettings.complete!==undefined&&(module.debug("Legacy complete callback detected",runSettings),module.error(error.legacyParameters,runSettings.complete),runSettings.onComplete=runSettings.complete)),runSettings===undefined&&module.error(error.noReturnedValue),runSettings!==undefined?runSettings:settings},defaultData:function(){var data={};return $.isWindow(element)||(module.is.input()?data.value=$module.val():module.is.form()&&(data.text=$module.text())),data},event:function(){return $.isWindow(element)||"now"==settings.on?(module.debug("API called without element, no events attached"),!1):"auto"==settings.on?$module.is("input")?element.oninput!==undefined?"input":element.onpropertychange!==undefined?"propertychange":"keyup":$module.is("form")?"submit":"click":settings.on},formData:function(){var formData;return $module.serializeObject!==undefined?formData=$form.serializeObject():(module.error(error.missingSerialize),formData=$form.serialize()),module.debug("Retrieved form data",formData),formData},templateURL:function(action){var url;return action=action||$module.data(metadata.action)||settings.action||!1,action&&(module.debug("Looking up url for action",action,settings.api),settings.api[action]!==undefined?(url=settings.api[action],module.debug("Found template url",url)):module.is.form()||module.error(error.missingAction,settings.action,settings.api)),url}},abort:function(){var xhr=module.get.xhr();xhr&&"resolved"!==xhr.state()&&(module.debug("Cancelling API request"),xhr.abort(),module.request.rejectWith(settings.apiSettings))},reset:function(){module.remove.error(),module.remove.loading()},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"","Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.api.settings={name:"API",namespace:"api",debug:!0,verbose:!1,performance:!0,on:"auto",filter:".disabled",stateContext:!1,loadingDuration:0,errorDuration:2e3,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,method:"get",data:{},dataType:"json",beforeSend:function(settings){return settings},beforeXHR:function(xhr){},onRequest:function(promise,xhr){},onSuccess:function(response,$module){},onComplete:function(response,$module){},onFailure:function(errorMessage,$module){},onError:function(errorMessage,$module){},onAbort:function(errorMessage,$module){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"Required dependency jquery-serialize-object missing, using basic serialize",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{form:"form"},metadata:{action:"action"}},$.api.settings.api={}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.state=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=("ontouchstart"in document.documentElement,(new Date).getTime()),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.state.settings,parameters):$.extend({},$.fn.state.settings),error=settings.error,metadata=settings.metadata,className=settings.className,namespace=settings.namespace,states=settings.states,text=settings.text,eventNamespace="."+namespace,moduleNamespace=namespace+"-module",$module=$(this),element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.verbose("Initializing module"),settings.automatic&&module.add.defaults(),settings.context&&""!==moduleSelector?$(settings.context).on(moduleSelector,"mouseenter"+eventNamespace,module.change.text).on(moduleSelector,"mouseleave"+eventNamespace,module.reset.text).on(moduleSelector,"click"+eventNamespace,module.toggle.state):$module.on("mouseenter"+eventNamespace,module.change.text).on("mouseleave"+eventNamespace,module.reset.text).on("click"+eventNamespace,module.toggle.state),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous module",instance),$module.off(eventNamespace).removeData(moduleNamespace)},refresh:function(){module.verbose("Refreshing selector cache"),$module=$(element)},add:{defaults:function(){var userStates=parameters&&$.isPlainObject(parameters.states)?parameters.states:{};$.each(settings.defaults,function(type,typeStates){module.is[type]!==undefined&&module.is[type]()&&(module.verbose("Adding default states",type,element),$.extend(settings.states,typeStates,userStates))})}},is:{active:function(){return $module.hasClass(className.active)},loading:function(){return $module.hasClass(className.loading)},inactive:function(){return!$module.hasClass(className.active)},state:function(state){return className[state]!==undefined&&$module.hasClass(className[state])},enabled:function(){return!$module.is(settings.filter.active)},disabled:function(){return $module.is(settings.filter.active)},textEnabled:function(){return!$module.is(settings.filter.text)},button:function(){return $module.is(".button:not(a, .submit)")},input:function(){return $module.is("input")},progress:function(){return $module.is(".ui.progress")}},allow:function(state){module.debug("Now allowing state",state),states[state]=!0},disallow:function(state){module.debug("No longer allowing",state),states[state]=!1},allows:function(state){return states[state]||!1},enable:function(){$module.removeClass(className.disabled)},disable:function(){$module.addClass(className.disabled)},setState:function(state){module.allows(state)&&$module.addClass(className[state])},removeState:function(state){module.allows(state)&&$module.removeClass(className[state])},toggle:{state:function(){var apiRequest,requestCancelled;if(module.allows("active")&&module.is.enabled()){if(module.refresh(),$.fn.api!==undefined)if(apiRequest=$module.api("get request"),requestCancelled=$module.api("was cancelled"))module.debug("API Request cancelled by beforesend"),settings.activateTest=function(){return!1},settings.deactivateTest=function(){return!1};else if(apiRequest)return void module.listenTo(apiRequest);module.change.state()}}},listenTo:function(apiRequest){module.debug("API request detected, waiting for state signal",apiRequest),apiRequest&&(text.loading&&module.update.text(text.loading),$.when(apiRequest).then(function(){"resolved"==apiRequest.state()?(module.debug("API request succeeded"),settings.activateTest=function(){return!0},settings.deactivateTest=function(){return!0}):(module.debug("API request failed"),settings.activateTest=function(){return!1},settings.deactivateTest=function(){return!1}),module.change.state()}))},change:{state:function(){module.debug("Determining state change direction"),module.is.inactive()?module.activate():module.deactivate(),settings.sync&&module.sync(),settings.onChange.call(element)},text:function(){module.is.textEnabled()&&(module.is.disabled()?(module.verbose("Changing text to disabled text",text.hover),module.update.text(text.disabled)):module.is.active()?text.hover?(module.verbose("Changing text to hover text",text.hover),module.update.text(text.hover)):text.deactivate&&(module.verbose("Changing text to deactivating text",text.deactivate),module.update.text(text.deactivate)):text.hover?(module.verbose("Changing text to hover text",text.hover),module.update.text(text.hover)):text.activate&&(module.verbose("Changing text to activating text",text.activate),module.update.text(text.activate)))}},activate:function(){settings.activateTest.call(element)&&(module.debug("Setting state to active"),$module.addClass(className.active),module.update.text(text.active),settings.onActivate.call(element))},deactivate:function(){settings.deactivateTest.call(element)&&(module.debug("Setting state to inactive"),$module.removeClass(className.active),module.update.text(text.inactive),settings.onDeactivate.call(element))},sync:function(){module.verbose("Syncing other buttons to current state"),module.is.active()?$allModules.not($module).state("activate"):$allModules.not($module).state("deactivate")},get:{text:function(){return settings.selector.text?$module.find(settings.selector.text).text():$module.html()},textFor:function(state){return text[state]||!1}},flash:{text:function(text,duration,callback){var previousText=module.get.text();module.debug("Flashing text message",text,duration),text=text||settings.text.flash,duration=duration||settings.flashDuration,callback=callback||function(){},module.update.text(text),setTimeout(function(){module.update.text(previousText),callback.call(element)},duration)}},reset:{text:function(){var activeText=text.active||$module.data(metadata.storedText),inactiveText=text.inactive||$module.data(metadata.storedText);module.is.textEnabled()&&(module.is.active()&&activeText?(module.verbose("Resetting active text",activeText),module.update.text(activeText)):inactiveText&&(module.verbose("Resetting inactive text",activeText),module.update.text(inactiveText)))}},update:{text:function(text){var currentText=module.get.text();text&&text!==currentText?(module.debug("Updating text",text),settings.selector.text?$module.data(metadata.storedText,text).find(settings.selector.text).text(text):$module.data(metadata.storedText,text).html(text)):module.debug("Text is already set, ignoring update",text)}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,
time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,100)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.state.settings={name:"State",debug:!1,verbose:!0,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.visibility=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var observer,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.visibility.settings,parameters):$.extend({},$.fn.visibility.settings),className=settings.className,namespace=settings.namespace,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$window=$(window),$module=$(this),$context=$(settings.context),instance=($module.selector||"",$module.data(moduleNamespace)),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)},element=this;module={initialize:function(){module.debug("Initializing",settings),module.setup.cache(),module.save.position(),module.should.trackChanges()&&(module.bind.events(),"image"==settings.type&&module.setup.image(),"fixed"==settings.type&&module.setup.fixed(),settings.observeChanges&&module.observeChanges(),module.is.visible()||module.error(error.visible,$module)),settings.initialCheck&&module.checkVisibility(),module.instantiate()},instantiate:function(){module.debug("Storing instance",module),$module.data(moduleNamespace,module),instance=module},destroy:function(){module.verbose("Destroying previous module"),observer&&observer.disconnect(),$window.off("load"+eventNamespace,module.event.load).off("resize"+eventNamespace,module.event.resize),$context.off("scrollchange"+eventNamespace,module.event.scrollchange),$module.off(eventNamespace).removeData(moduleNamespace)},observeChanges:function(){$context[0];"MutationObserver"in window&&(observer=new MutationObserver(function(mutations){module.verbose("DOM tree modified, updating visibility calculations"),module.timer=setTimeout(function(){module.verbose("DOM tree modified, updating sticky menu"),module.refresh()},100)}),observer.observe(element,{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",observer))},bind:{events:function(){module.verbose("Binding visibility events to scroll and resize"),$window.on("load"+eventNamespace,module.event.load).on("resize"+eventNamespace,module.event.resize),$context.off("scroll"+eventNamespace).on("scroll"+eventNamespace,module.event.scroll).on("scrollchange"+eventNamespace,module.event.scrollchange)},imageLoad:function(){var $images=$module.find("img"),imageCount=$images.length,index=imageCount,loadedCount=0,images=[],cache=[],cacheImage=document.createElement("img"),handleLoad=function(){loadedCount++,loadedCount>=imageCount&&(module.debug("Images finished loading inside element, refreshing position"),module.refresh())};if(imageCount>0)for($images.each(function(){images.push($(this).attr("src"))});index--;)cacheImage=document.createElement("img"),cacheImage.onload=handleLoad,cacheImage.onerror=handleLoad,cacheImage.src=images[index],cache.push(cacheImage)}},event:{resize:function(){module.debug("Window resized"),requestAnimationFrame(module.refresh)},load:function(){module.debug("Page finished loading"),requestAnimationFrame(module.refresh)},scroll:function(){settings.throttle?(clearTimeout(module.timer),module.timer=setTimeout(function(){$context.trigger("scrollchange"+eventNamespace,[$context.scrollTop()])},settings.throttle)):requestAnimationFrame(function(){$context.trigger("scrollchange"+eventNamespace,[$context.scrollTop()])})},scrollchange:function(event,scrollPosition){module.checkVisibility(scrollPosition)}},precache:function(images,callback){images instanceof Array||(images=[images]);for(var imagesLength=images.length,loadedCounter=0,cache=[],cacheImage=document.createElement("img"),handleLoad=function(){loadedCounter++,loadedCounter>=images.length&&$.isFunction(callback)&&callback()};imagesLength--;)cacheImage=document.createElement("img"),cacheImage.onload=handleLoad,cacheImage.onerror=handleLoad,cacheImage.src=images[imagesLength],cache.push(cacheImage)},should:{trackChanges:function(){return methodInvoked?(module.debug("One time query, no need to bind events"),!1):(module.debug("Callbacks being attached"),!0)}},setup:{cache:function(){module.cache={occurred:{},screen:{},element:{}}},image:function(){var src=$module.data("src");src&&(module.verbose("Lazy loading image",src),settings.observeChanges=!1,module.topVisible(function(){module.debug("Image top visible",element),module.precache(src,function(){module.set.image(src),settings.onTopVisible=!1})}))},fixed:function(){module.verbose("Setting up fixed on element pass"),settings.once=!1,settings.onTopPassed=function(){$module.addClass(className.fixed).css({top:settings.offset+"px"}),settings.transition&&$.fn.transition!==undefined&&$module.transition(settings.transition,settings.duration)},settings.onTopPassedReverse=function(){$module.removeClass(className.fixed).css({position:"",top:""})}}},set:{image:function(src){var offScreen=module.cache.screen.bottom<module.cache.element.top;$module.attr("src",src),offScreen?(module.verbose("Image outside browser, no show animation"),$module.show()):settings.transition?$.fn.transition!==undefined?$module.transition(settings.transition,settings.duration):$module.fadeIn(settings.duration):$module.show()}},is:{visible:function(){return!(!module.cache||!module.cache.element)&&module.cache.element.width>0}},refresh:function(){module.debug("Refreshing constants (width/height)"),module.reset(),module.save.position(),module.checkVisibility(),settings.onRefresh.call(element)},reset:function(){module.verbose("Reseting all cached values"),$.isPlainObject(module.cache)&&(module.cache.screen={},module.cache.element={})},checkVisibility:function(scroll){module.verbose("Checking visibility of element",module.cache.element),module.is.visible()&&(module.save.scroll(scroll),module.save.calculations(),module.passed(),module.passingReverse(),module.topVisibleReverse(),module.bottomVisibleReverse(),module.topPassedReverse(),module.bottomPassedReverse(),module.passing(),module.topVisible(),module.bottomVisible(),module.topPassed(),module.bottomPassed(),settings.onUpdate&&settings.onUpdate.call(element,module.get.elementCalculations()))},passed:function(amount,newCallback){var calculations=module.get.elementCalculations();if(amount!==undefined&&newCallback!==undefined)settings.onPassed[amount]=newCallback;else{if(amount!==undefined)return module.get.pixelsPassed(amount)>calculations.pixelsPassed;calculations.passing&&$.each(settings.onPassed,function(amount,callback){calculations.bottomVisible||calculations.pixelsPassed>module.get.pixelsPassed(amount)?module.execute(callback,amount):settings.once||module.remove.occurred(callback)})}},passing:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onPassing,callbackName="passing";if(newCallback&&(module.debug("Adding callback for passing",newCallback),settings.onPassing=newCallback),calculations.passing?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback!==undefined)return calculations.passing},topVisible:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onTopVisible,callbackName="topVisible";if(newCallback&&(module.debug("Adding callback for top visible",newCallback),settings.onTopVisible=newCallback),calculations.topVisible?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback===undefined)return calculations.topVisible},bottomVisible:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onBottomVisible,callbackName="bottomVisible";if(newCallback&&(module.debug("Adding callback for bottom visible",newCallback),settings.onBottomVisible=newCallback),calculations.bottomVisible?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback===undefined)return calculations.bottomVisible},topPassed:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onTopPassed,callbackName="topPassed";if(newCallback&&(module.debug("Adding callback for top passed",newCallback),settings.onTopPassed=newCallback),calculations.topPassed?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback===undefined)return calculations.topPassed},bottomPassed:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onBottomPassed,callbackName="bottomPassed";if(newCallback&&(module.debug("Adding callback for bottom passed",newCallback),settings.onBottomPassed=newCallback),calculations.bottomPassed?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback===undefined)return calculations.bottomPassed},passingReverse:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onPassingReverse,callbackName="passingReverse";if(newCallback&&(module.debug("Adding callback for passing reverse",newCallback),settings.onPassingReverse=newCallback),calculations.passing?settings.once||module.remove.occurred(callbackName):module.get.occurred("passing")&&module.execute(callback,callbackName),newCallback!==undefined)return!calculations.passing},topVisibleReverse:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onTopVisibleReverse,callbackName="topVisibleReverse";if(newCallback&&(module.debug("Adding callback for top visible reverse",newCallback),settings.onTopVisibleReverse=newCallback),calculations.topVisible?settings.once||module.remove.occurred(callbackName):module.get.occurred("topVisible")&&module.execute(callback,callbackName),newCallback===undefined)return!calculations.topVisible},bottomVisibleReverse:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onBottomVisibleReverse,callbackName="bottomVisibleReverse";if(newCallback&&(module.debug("Adding callback for bottom visible reverse",newCallback),settings.onBottomVisibleReverse=newCallback),calculations.bottomVisible?settings.once||module.remove.occurred(callbackName):module.get.occurred("bottomVisible")&&module.execute(callback,callbackName),newCallback===undefined)return!calculations.bottomVisible},topPassedReverse:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onTopPassedReverse,callbackName="topPassedReverse";if(newCallback&&(module.debug("Adding callback for top passed reverse",newCallback),settings.onTopPassedReverse=newCallback),calculations.topPassed?settings.once||module.remove.occurred(callbackName):module.get.occurred("topPassed")&&module.execute(callback,callbackName),newCallback===undefined)return!calculations.onTopPassed},bottomPassedReverse:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onBottomPassedReverse,callbackName="bottomPassedReverse";if(newCallback&&(module.debug("Adding callback for bottom passed reverse",newCallback),settings.onBottomPassedReverse=newCallback),calculations.bottomPassed?settings.once||module.remove.occurred(callbackName):module.get.occurred("bottomPassed")&&module.execute(callback,callbackName),newCallback===undefined)return!calculations.bottomPassed},execute:function(callback,callbackName){var calculations=module.get.elementCalculations(),screen=module.get.screenCalculations();callback=callback||!1,callback&&(settings.continuous?(module.debug("Callback being called continuously",callbackName,calculations),callback.call(element,calculations,screen)):module.get.occurred(callbackName)||(module.debug("Conditions met",callbackName,calculations),callback.call(element,calculations,screen))),module.save.occurred(callbackName)},remove:{occurred:function(callback){callback?module.cache.occurred[callback]!==undefined&&module.cache.occurred[callback]===!0&&(module.debug("Callback can now be called again",callback),module.cache.occurred[callback]=!1):module.cache.occurred={}}},save:{calculations:function(){module.verbose("Saving all calculations necessary to determine positioning"),module.save.direction(),module.save.screenCalculations(),module.save.elementCalculations()},occurred:function(callback){callback&&(module.cache.occurred[callback]!==undefined&&module.cache.occurred[callback]===!0||(module.verbose("Saving callback occurred",callback),module.cache.occurred[callback]=!0))},scroll:function(scrollPosition){scrollPosition=scrollPosition+settings.offset||$context.scrollTop()+settings.offset,module.cache.scroll=scrollPosition},direction:function(){var direction,scroll=module.get.scroll(),lastScroll=module.get.lastScroll();return direction=scroll>lastScroll&&lastScroll?"down":scroll<lastScroll&&lastScroll?"up":"static",module.cache.direction=direction,module.cache.direction},elementPosition:function(){var element=module.cache.element,screen=module.get.screenSize();return module.verbose("Saving element position"),element.fits=element.height<screen.height,element.offset=$module.offset(),element.width=$module.outerWidth(),element.height=$module.outerHeight(),module.cache.element=element,element},elementCalculations:function(){var screen=module.get.screenCalculations(),element=module.get.elementPosition();return settings.includeMargin?(element.margin={},element.margin.top=parseInt($module.css("margin-top"),10),element.margin.bottom=parseInt($module.css("margin-bottom"),10),element.top=element.offset.top-element.margin.top,element.bottom=element.offset.top+element.height+element.margin.bottom):(element.top=element.offset.top,element.bottom=element.offset.top+element.height),element.topVisible=screen.bottom>=element.top,element.topPassed=screen.top>=element.top,element.bottomVisible=screen.bottom>=element.bottom,element.bottomPassed=screen.top>=element.bottom,element.pixelsPassed=0,element.percentagePassed=0,element.visible=element.topVisible||element.bottomVisible,element.passing=element.topPassed&&!element.bottomPassed,element.hidden=!element.topVisible&&!element.bottomVisible,element.passing&&(element.pixelsPassed=screen.top-element.top,element.percentagePassed=(screen.top-element.top)/element.height),module.cache.element=element,module.verbose("Updated element calculations",element),element},screenCalculations:function(){var scroll=module.get.scroll();return module.save.direction(),module.cache.screen.top=scroll,module.cache.screen.bottom=scroll+module.cache.screen.height,module.cache.screen},screenSize:function(){module.verbose("Saving window position"),module.cache.screen={height:$context.height()}},position:function(){module.save.screenSize(),module.save.elementPosition()}},get:{pixelsPassed:function(amount){var element=module.get.elementCalculations();return amount.search("%")>-1?element.height*(parseInt(amount,10)/100):parseInt(amount,10)},occurred:function(callback){return module.cache.occurred!==undefined&&(module.cache.occurred[callback]||!1)},direction:function(){return module.cache.direction===undefined&&module.save.direction(),module.cache.direction},elementPosition:function(){return module.cache.element===undefined&&module.save.elementPosition(),module.cache.element},elementCalculations:function(){return module.cache.element===undefined&&module.save.elementCalculations(),module.cache.element},screenCalculations:function(){return module.cache.screen===undefined&&module.save.screenCalculations(),module.cache.screen},screenSize:function(){return module.cache.screen===undefined&&module.save.screenSize(),module.cache.screen},scroll:function(){return module.cache.scroll===undefined&&module.save.scroll(),module.cache.scroll},lastScroll:function(){return module.cache.screen===undefined?(module.debug("First scroll event, no last scroll could be found"),!1):module.cache.screen.top}},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,refreshOnLoad:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:window,initialCheck:!0,throttle:!1,type:!1,transition:!1,duration:1e3,onPassed:{},onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onUpdate:!1,onRefresh:function(){},className:{fixed:"fixed"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);